<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:t="http://www.tei-c.org/ns/1.0" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>Initiation ODD</title><meta name="generator" content="Generated by TEISLIDY stylesheet"></meta><script src="https://www.w3.org/Talks/Tools/Slidy/slidy.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" media="screen, projection" href="https://www.w3.org/Talks/Tools/Slidy/show.css"></link><link href="../css/egXMLhandling.css" rel="stylesheet" type="text/css"></link><link href="../css/tei.css" rel="stylesheet" type="text/css"></link></head><body class="simple" id="TOP"><div class="slide cover"><img src="media/logo.jpg" width="40%" style="float:left" alt="[Put logo here]" class="cover"></img><br clear="all"></br><h1>Initiation ODD</h1><p>Lou Burnard Consulting</p></div><div class="slide"><h2>À quoi ça sert, un ODD&nbsp;? </h2><p class="box">Nous avons besoin de deux choses complémentaires…</p><p>Un <span class="hi">schéma formel</span> (utilisant un langage informatique tel que DTD, RELAX NG, W3C Schema, Schematron) pour contrôler l’édition</p><ul><li class="item">déterminer quelles sont les balises disponibles&nbsp;?</li><li class="item">dans quels contextes&nbsp;?</li><li class="item">avec quels attributs&nbsp;?</li><li class="item">avec quelles valeurs&nbsp;?</li><li class="item">en respectant quelles contraintes&nbsp;?</li></ul><p>Une <span class="hi">documentation</span> pour expliciter aux utilisateurs/développeurs nos principes éditoriaux, nos principes de choix de balises, etc.&nbsp;:</p><ul><li class="item">dans plusieurs langues naturelles&nbsp;;</li><li class="item">dans plusieurs formats de fichier (PDF, MsWord, HTML, epub,...).</li></ul></div><div class="slide"><h2>OK, mais pourquoi ODD&nbsp;?</h2><p>Ces attentes pourraient être satisfaites de plusieurs manières.</p><p>Les avantages d’ODD&nbsp;: </p><ul><li class="item">un format XML bien établi,</li><li class="item">faisant partie intégrante du système TEI,</li><li class="item">permettant un traitement fortement intégré avec d’autres systèmes TEI,</li><li class="item">pérennisation à long terme</li><li class="item">standardisation</li></ul></div><div class="slide"><h2>L’idée essentielle de ODD</h2><p class="box"><span class="hi">O</span>ne <span class="hi">D</span>ocument <span class="hi">D</span>oes it all</p><p>Un vocabulaire spécialisé pour la définition&nbsp;:</p><ul><li class="item">des schémas</li><li class="item">des types d’élément XML, indépendants des schémas</li><li class="item">des regroupements de tels éléments, publics ou privés </li><li class="item">des patrons (MLE macros) et des spécifications de donnée (datatype)</li><li class="item">des classes (et sous-classes) d’éléments</li><li class="item">des références de tels objets</li></ul><p>Un <span class="hi">schéma</span> peut combiner&nbsp;:</p><ul><li class="item">des objets identifiables (dans la liste ci-dessus)</li><li class="item">des objets appartenant à d’autres espaces de nom</li></ul><p class="box">et devrait être intégrable dans un système de balisage documentaire classique</p></div><div class="slide"><h2>L’idée essentielle de ODD 2</h2><p class="box">Un ODD peut combiner plusieurs spécifications pour un même objet </p><ul><li class="item">une qui est ‘canonique’, référencée dans les <span class="titlem">Guidelines</span></li><li class="item">une (ou plusieurs) supplémentaires, modifiées en partie ou totalement</li><li class="item">ces versions partielles peuvent être explicitées dans l’ODD ou bien héritées d'un autre ODD</li></ul><p>Les règles de combinaison sont explicites, mais un peu complexes… </p></div><div class="slide"><h2>Éléments essentiel d’un ODD</h2><p>Une histoire de <span class="hi">Spec</span> et <span class="hi">Ref</span>...</p><dl><dt><span><span class="gi">&lt;schemaSpec&gt;</span></span></dt><dd>définit et identifie un schéma</dd><dt><span><span class="gi">&lt;elementSpec&gt;</span></span></dt><dd>fournit la définition d’élément, entièrement ou en partie</dd><dt><span><span class="gi">&lt;elementRef&gt;</span></span></dt><dd>utilise une définition d’un élément existant</dd><dt><span><span class="gi">&lt;classSpec&gt;</span></span></dt><dd>fournit la définition d’une classe</dd><dt><span><span class="gi">&lt;classRef&gt;</span></span></dt><dd>utilise une définition de classe existante</dd><dt><span><span class="gi">&lt;moduleRef&gt;</span></span></dt><dd>fournit un ensemble de spécifications d’éléments en faisant référence à un ‘module’</dd></dl><p>Un ODD peut combiner plusieurs spécifications pour un même objet </p><p class="box">(Nous reviendrons plus loin sur ce point, et sur les composants documentaire d’un ODD)</p></div><div class="slide"><h2>Un premier exemple simplissime</h2><p class="box">Nous utilisons un élément <span class="gi">&lt;book&gt;</span>, qui contient un mélange d’éléments <span class="gi">&lt;para&gt;</span>s et <span class="gi">&lt;image&gt;</span>s. Nous ne connaissons rien de la TEI, et n’en avons pas envie. De même pour les espaces de noms.</p><div id="index.xml-egXML-d30e205" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ns</span>="<span class="attributevalue"></span>"&nbsp;<span class="attribute">start</span>="<span class="attributevalue">book</span>"
&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">bookSchema</span>"&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">book</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>Élément racine d’un schéma simplissime pour encoder les livres<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;desc/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;alternate&nbsp;<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">para</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">image</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/alternate&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/content&gt;</span>
&nbsp;<span class="element">&lt;/elementSpec&gt;</span>
<span class="comment">&lt;!-- ... la suite à la prochaine diapo --&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div></div><div class="slide"><h2>Un exemple simplissime (suite)</h2><div id="index.xml-egXML-d30e219" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ns</span>="<span class="attributevalue"></span>"&nbsp;<span class="attribute">start</span>="<span class="attributevalue">stuff</span>"
&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">oddex-1</span>"&gt;</span>
<span class="comment">&lt;!-- ... suite --&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">para</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>un paragraphe de text <span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;textNode/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/content&gt;</span>
&nbsp;<span class="element">&lt;/elementSpec&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">image</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>un élément vide qui pointe sur un fichier graphique<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;content/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attList&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">href</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>fournit l’URI de l'objet ciblé<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;datatype&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;dataRef&nbsp;<span class="attribute">name</span>="<span class="attributevalue">anyURI</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;/datatype&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attList&gt;</span>
&nbsp;<span class="element">&lt;/elementSpec&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div></div><div class="slide"><h2>So what&nbsp;?</h2><ul><li class="item">On peut maintenant générer un schéma RELAX NG, W3C, ou DTD à l’aide d’une transformation XSLT</li><li class="item">On peut extraire les fragments documentaires, notamment les descriptions des éléments et des attributs</li></ul><div class="p">TEI fournit un élément spécialisé pour cela&nbsp;: <div id="index.xml-egXML-d30e247" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;specList&gt;</span>
&nbsp;<span class="element">&lt;specDesc&nbsp;<span class="attribute">key</span>="<span class="attributevalue">para</span>"/&gt;</span>
&nbsp;<span class="element">&lt;specDesc&nbsp;<span class="attribute">key</span>="<span class="attributevalue">picture</span>"/&gt;</span>
<span class="element">&lt;/specList&gt;</span></div></div><p>Ce balisage généra quelque chose comme&nbsp;</p><ul><li class="item"><span class=""><span class="gi">&lt;para&gt;</span></span> : un paragraphe de texte</li><li class="item"><span class=""><span class="gi">&lt;picture&gt;</span></span> : un élément vide qui pointe sur un fichier graphique</li></ul></div><div class="slide"><h2>Essayons cela avec oXygen… </h2><ul><li class="item">Démarrez oXygen</li><li class="item">Créez un nouveau fichier (CTRL-N)</li><li class="item">Sélectionnez <span class="ident">TEI-P5 -&gt; ODD Customization</span> dans le menu <span class="ident">Cadre des modèles</span> du dialog <span class="ident">Nouveau</span></li><li class="item">Remplacer l'élément <span class="gi">&lt;schemaSpec&gt;</span> proposé par le contenu du fichier <span class="ident">oddex-1.xml</span></li><li class="item">Insérez le contenu du fichier <span class="ident">oddex-1-doc.xml </span> <em>avant</em> le nouveau <span class="gi">&lt;schemaSpec&gt;</span></li><li class="item">Enregistrez votre ODD sous le nom <span class="ident">oddex-1.odd</span></li><li class="item">Sélectionnez les Scénario de Transformation <span class="ident">TEI ODD to RELAX NG Compact</span> et <span class="ident">TEI ODD to HTML</span> pour générer un schéma et sa documentation à partir de cet ODD</li><li class="item">Lire la documentation</li><li class="item">Validez le fichier test <span class="ident">oddex-1-test.xml</span> contre le schéma <span class="ident">out/oddex-1.rnc</span> que vous venez de générer</li></ul></div><div class="slide"><h2>Notions de classe (1)</h2><p>Dans le monde réel, le contenu de nos <span class="gi">&lt;book&gt;</span> ne se limite pas uniquement aux <span class="gi">&lt;para&gt;</span>s et aux <span class="gi">&lt;image&gt;</span>s... on peut regrouper tous les éléments qui peuvent apparaître au sein d’un <span class="ident">book</span>&nbsp;: nous appelons ce regroupement une <span class="term">classe</span>, pour laquelle nous proposons le nom <span class="ident">bookPart</span>.</p><div class="p">Nous utilisons l’élément <span class="gi">&lt;classes&gt;</span> pour indiquer l’association d’un élément avec sa ou ses classe/s&nbsp;: <div id="index.xml-egXML-d30e353" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">para</span>"&gt;</span>
&nbsp;<span class="element">&lt;classes&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">bookPart</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/classes&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div></div><p>Et voici la définition de la classe <span class="ident">bookPart</span>.</p><div id="index.xml-egXML-d30e363" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;classSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">bookPart</span>"&nbsp;<span class="attribute">type</span>="<span class="attributevalue">model</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>éléments qui ont la possibilité de figurer dans un <span class="element">&lt;gi&gt;</span>book<span class="element">&lt;/gi&gt;</span>
&nbsp;<span class="element">&lt;/desc&gt;</span>
<span class="element">&lt;/classSpec&gt;</span></div></div><div class="slide"><h2>Usage d’une classe de modélisation</h2><p>Maintenant, au lieu de lister exhaustivement tous les composants possibles d’un <span class="gi">&lt;book&gt;</span>, il suffit de dire que cet élément est composé des membres de la classe <span class="ident">bookPart</span> .</p><div id="index.xml-egXML-d30e380" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">book</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>Élément racine d’un schéma simplissime pour encoder les livres<span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;classRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">bookPart</span>"&nbsp;<span class="attribute">minOccurs</span>="<span class="attributevalue">1</span>"
&nbsp;&nbsp;&nbsp;<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/content&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div><p>(Dès que nous découvrirons l’existence de listes dans les livres nous saurons quoi faire)</p></div><div class="slide"><h2>Définition d’une classe d’attribut</h2><p>Dans le monde réel, il est très probable que plusieurs éléments différents comportent les même attributs&nbsp;: il sera donc très pratique de les définir en une seule fois</p><div class="p">ODD nous permet de dire que tous les éléments ayant en commun un ensemble d’attributs constituent une <span class="term">classe attributs</span> que nous définissons ainsi <div id="index.xml-egXML-d30e399" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;classSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">pointing</span>"&nbsp;<span class="attribute">type</span>="<span class="attributevalue">atts</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>regroupe les éléments comportant l’attribut <span class="element">&lt;att&gt;</span>href<span class="element">&lt;/att&gt;</span>
&nbsp;<span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;attList&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">href</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>fournit l’URI de l’objet ciblé<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;datatype&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;dataRef&nbsp;<span class="attribute">name</span>="<span class="attributevalue">anyURI</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/datatype&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;<span class="element">&lt;/attList&gt;</span>
<span class="element">&lt;/classSpec&gt;</span></div></div></div><div class="slide"><h2>Testez votre compréhension</h2><ul><li class="item">Ouvrez le fichier <span class="ident">oddex-2.odd</span> avec oXygen et comparez le avec <span class="ident">oddex-1.odd</span></li><li class="item">Créez une nouvelle version du schéma à partir de cet ODD</li><li class="item">Assurez vous que le fichier test <span class="ident">oddex-1-test.xml</span> reste valide contre cette nouvelle version du schéma</li><li class="item">Comprenez-vous l’effet des références aux classes?</li></ul></div><div class="slide"><h2>Contrôle des valeurs d’un attribut</h2><p>Les valeurs possibles d’un attribut peuvent être contrôlées de plusieurs manières&nbsp;: </p><ul><li class="item">Par référence à un <span class="term">datatype</span> (type de donnée) externe, par ex <code>anyURI </code> ou <code>ID</code> (ce sont des datatypes standard, définis par le W3C)</li><li class="item">En fournissant notre propre liste des valeurs avec l’élément <span class="gi">&lt;valList&gt;</span></li><li class="item">Par référence à un <span class="term">datatype</span> (type de donnée) interne défini par un <span class="gi">&lt;dataSpec&gt;</span> interne à notre ODD</li></ul></div><div class="slide"><h2>Exemple </h2><div id="index.xml-egXML-d30e464" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;classSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">bookAtts</span>"&nbsp;<span class="attribute">type</span>="<span class="attributevalue">atts</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>attributs applicables aux objets contenus par des <span class="element">&lt;gi&gt;</span>book<span class="element">&lt;/gi&gt;</span>
&nbsp;<span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;attList&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">xml:id</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>fournit un identifiant unique pour le composant<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;datatype&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;dataRef&nbsp;<span class="attribute">name</span>="<span class="attributevalue">ID</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/datatype&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">status</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>indique le statut du composant <span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;valList&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;valItem&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">red</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;valItem&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">green</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;valItem&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">unknown</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/valList&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">version</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>indique le numéro de version du composant<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;datatype&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;dataRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">teidata.versionNumber</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/datatype&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;<span class="element">&lt;/attList&gt;</span>
<span class="element">&lt;/classSpec&gt;</span></div></div><div class="slide"><h2>Tester votre compréhension…</h2><ul><li class="item">Insérez dans votre fichier <span class="ident">oddex-2.odd</span> la définition d’une deuxieme classe d’attribut (il y en a une dans le fichier <span class="ident">oddex-2.xml</span>)</li><li class="item">Ajoutez un <span class="gi">&lt;memberOf&gt;</span> à la spécification de l’élément <span class="gi">&lt;para&gt;</span> pour qu’il participe à cette nouvelle classe</li><li class="item">Générez un schéma et assurez-vous que le fichier <span class="ident">oddex-1-test.xml</span> reste valide avec cette version du schéma.</li><li class="item">Contrôlez que oXygen vous propose ces nouveaux attributs, et qu’il contraint correctement les valeurs possibles</li></ul></div><div class="slide"><h2>Qu’est-ce que l’on pourrait vouloir ajouter pour bien documenter son système&nbsp;?</h2><p>Peut-être… </p><ul><li class="item">Des gloses, des descriptions en plusieurs langues</li><li class="item">Des exemples d’usage</li><li class="item">des contraintes plus sophistiquées <ul><li class="item">modèles de contenu plus complexes</li><li class="item">contraintes variables selon le contexte</li></ul></li></ul><p class="box">Et comme dans tout projet de documentation&nbsp;: indication de version, référencements extérieurs et intérieures, mappings ontologiques…</p></div><div class="slide"><h2>Exemples d’usage</h2><p>Évidemment, si on décrit un schéma XML on va inclure des exemples d’usage en XML. Si la documentation s’exprime également en XML, il faut être astucieux… Il y a trois approches possibles&nbsp;:</p><ul><li class="item">tout cacher avec un "CDATA marked section" (magique hérité de SGML)</li><li class="item">tout échapper en utilisent des "références" (<code>&amp;amp;lt;</code> etc)</li><li class="item">utiliser un autre espace de nommage</li></ul><p class="box">Seul le dernier vous permet de valider vos exemples&nbsp;: un plus très avantageux</p></div><div class="slide"><h2>Par exemple </h2><p><code>&lt;![CDATA[&lt;p&gt;un paragraphe&lt;/p&gt; ]]&gt; </code></p><p><code>&amp;lt;p&gt;un paragraphe&amp;lt;/p&gt;</code></p><p><code>&lt;egXML xmlns="http://www.tei-c.org/ns/examples"&gt; &lt;p&gt;un paragraphe&lt;/p&gt; &lt;/egXML&gt;</code></p></div><div class="slide"><h2>Définition d’un modèle de contenu</h2><p>Un élément XML peut contenir....</p><ul><li class="item">Rien de tout</li><li class="item">Que du texte sans balise : <span class="gi">&lt;textNode&gt;</span></li><li class="item">Référence(s) à d'autres éléments : <span class="gi">&lt;elementRef&gt;</span></li><li class="item">Référence(s) à des classes d'éléments : <span class="gi">&lt;classRef&gt;</span></li><li class="item">Alternation(s) des précedents : <span class="gi">&lt;alternate&gt;</span></li><li class="item">Séquence(s) des précedents : <span class="gi">&lt;sequence&gt;</span></li><li class="item">Et tous ces composants sont répétables ... <span class="att">minOccurs</span> et <span class="att">maxOccurs</span></li></ul><p>Nous allons regarder cela de plus près plus tard...</p></div><div class="slide"><h2>Notions de namespace </h2><ul><li class="item">Un <span class="term">namespace</span> (espace de noms) fournit une manière d’associer et distinguer un groupe de termes, typiquement d’éléments XML.</li><li class="item">Jusqu’à présent, tout ce qui a été nommé dans notre schéma appartient à un namespace "nul". </li><li class="item">Supposons que nous souhaitions ajouter un nouvel élément <span class="gi">&lt;para&gt;</span> avec un modèle de contenu moins restreint. Ce <span class="gi">&lt;para&gt;</span> contiendra un mélange de texte et des images, mais nous souhaitons l'appeler un <span class="gi">&lt;para&gt;</span> quand même. Pour le distinguer du <span class="gi">&lt;para&gt;</span> existant, il faut donc l’associer à un autre espace de noms.</li><li class="item">L’attribut <span class="att">ns</span> est disponible sur <span class="gi">&lt;elementSpec&gt;</span> pour préciser un espace de noms. Pour des raisons techniques, il faut aussi spécifier un préfixe unique.</li></ul></div><div class="slide"><h2>Notions de namespace : exemple</h2><div id="index.xml-egXML-d30e641" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">para</span>"
&nbsp;<span class="attribute">ns</span>="<span class="attributevalue">http://myNamespace.org</span>"&nbsp;<span class="attribute">prefix</span>="<span class="attributevalue">extra</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>une paragraph contenant de text et facultativement des images <span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;classes&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">bookPart</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/classes&gt;</span>
&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;alternate&nbsp;<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"
&nbsp;&nbsp;&nbsp;<span class="attribute">minOccurs</span>="<span class="attributevalue">0</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;textNode/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">image</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/alternate&gt;</span>
&nbsp;<span class="element">&lt;/content&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div><p>Notez bien que ce nouvel élément fait partie de la classe <span class="ident">bookPart</span> ; sinon il ne serait pas disponible dans nos documents.</p></div><div class="slide"><h2>Tester votre compréhension...</h2><ul><li class="item">Chargez le fichier <span class="ident">oddex-3.odd</span> et générez un schéma comme d'habitude</li><li class="item">Est-ce que le fichier <span class="ident">oddex-1-test.xml</span> reste valide avec cette version du schéma ?</li><li class="item">Et le fichier <span class="ident">oddex-3-test.xml</span> ?</li><li class="item">Ajoutez des traductions dans d’autres langues (allemand, russe, italien, anglais...) des descriptions d'éléments</li><li class="item">Modifiez l’élément <span class="gi">&lt;my:para&gt;</span> pour lui donner les attributs <span class="att">xml:id</span> et <span class="att">status</span></li><li class="item">Modifiez la définition de l’attribut <span class="att">status</span> pour lui permettre de prendre la valeur <code>orange</code>.</li><li class="item">Ajoutez un exemple d'usage pour quelques-uns des éléments spécifiés par votre ODD</li></ul></div><div class="slide"><h2>Et enfin, un mot de la TEI</h2><p>Admettons enfin que notre <span class="gi">&lt;para&gt;</span> n’est pas si loin de l’élément TEI <span class="gi">&lt;p&gt;</span>, que notre <span class="gi">&lt;image&gt;</span> ressemble beaucoup à l’élément TEI <span class="gi">&lt;graphic&gt;</span>, et que notre <span class="gi">&lt;book&gt;</span> pourrait être considéré comme un élément TEI <span class="gi">&lt;div&gt;</span>. Comment ré-écrire ce schéma pour profiter des définitions TEI existantes&nbsp;?</p><div id="index.xml-egXML-d30e722" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">start</span>="<span class="attributevalue">div</span>"
&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">testSchema-2</span>"&nbsp;<span class="attribute">source</span>="<span class="attributevalue">tei:1.6.0</span>"&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">div</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">p</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">graphic</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">figure</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">tei</span>"/&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p>L’élément <span class="gi">&lt;moduleRef&gt;</span> nous fournit un ensemble de définitions infrastructurales, notamment pour les classes utilisées partout dans le systeme TEI. À part cela, nous n’avons besoin que de référencer les éléments TEI souhaités avec un <span class="gi">&lt;elementRef&gt;</span>.</p></div><div class="slide"><h2>Création d’un schéma TEI</h2><ul><li class="item">Chargez le fichier <span class="ident">oddex-tei.odd</span> avec oXygen et comparez le avec les versions précédentes</li><li class="item">Transformez ce fichier en schéma, comme d’habitude.</li><li class="item">Le fichier <span class="ident">oddex-3-test.xml</span> contient une version TEI de notre fichier de test initial&nbsp;: validez-le avec le schéma que vous venez de créer.</li><li class="item">Notez qu’un document TEI <em>doit</em> utiliser l’espace de nommage TEI</li><li class="item">Notez également que les concepts TEI et les nôtres ne sont pas forcément identiques (par ex, usage de <span class="gi">&lt;graphic&gt;</span>)</li></ul><p class="box">Plus tard, nous verrons comment la TEI se sert du système ODD…</p></div></body></html>