<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:t="http://www.tei-c.org/ns/1.0" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>ODD&nbsp;: Attendez, ce n’est pas tout&nbsp;!</title><meta name="generator" content="Generated by TEISLIDY stylesheet"></meta><script src="https://www.w3.org/Talks/Tools/Slidy/slidy.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" media="screen, projection" href="https://www.w3.org/Talks/Tools/Slidy/show.css"></link><link href="../css/egXMLhandling.css" rel="stylesheet" type="text/css"></link><link href="../css/tei.css" rel="stylesheet" type="text/css"></link></head><body class="simple" id="TOP"><div class="slide cover"><img src="media/logo.jpg" width="40%" style="float:left" alt="[Put logo here]" class="cover"></img><br clear="all"></br><h1>ODD&nbsp;: Attendez, ce n’est pas tout&nbsp;!</h1><p></p></div><div class="slide"><h2>ODD &nbsp;: Attendez ce n’est pas tout&nbsp;!</h2><ul><li class="item">ODD comme système de documentation</li><li class="item">Définir des contraintes supplémentaires&nbsp;: utilisation de schematron</li><li class="item">Enchaînement et combinaison d’ODDs</li><li class="item">Documenter les intentions&nbsp;: le Processing Model</li><li class="item">Qu’est-ce qu’être conforme à la TEI&nbsp;?</li></ul></div><div class="slide"><h2>ODD comme système de documentation</h2><p>ODD est un langage conçu pour faciliter la documentation systématique. Il fournit donc des balises spécialisées pour distinguer&nbsp;: </p><dl><dt></dt><dd><span class="gi">&lt;code&gt;</span>&nbsp;: un morceau de code exprimé dans n’importe quel langage formel <div id="index.xml-egXML-d30e56" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;code&nbsp;<span class="attribute">lang</span>="<span class="attributevalue">C</span>"&gt;</span>count += 56;<span class="element">&lt;/code&gt;</span></div></dd><dt></dt><dd><span class="gi">&lt;att&gt;</span>&nbsp;: un nom d’attribut <div id="index.xml-egXML-d30e63" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely-->The
<span class="element">&lt;att&nbsp;<span class="attribute">scheme</span>="<span class="attributevalue">TEI</span>"&gt;</span>target<span class="element">&lt;/att&gt;</span> attribute indicates a URI</div></dd><dt></dt><dd><span class="gi">&lt;gi&gt;</span>&nbsp;: un nom d’élément <div id="index.xml-egXML-d30e73" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely-->The
<span class="element">&lt;gi&gt;</span>table<span class="element">&lt;/gi&gt;</span> element is for...</div></dd></dl></div><div class="slide"><h2>ODD comme système de documentation (suite) </h2><ul><li class="item"><span class="gi">&lt;ident&gt;</span>&nbsp;: identifiant ou nom d’un objet en n’importe quel langage formel <div id="index.xml-egXML-d30e88" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--> The <span class="element">&lt;ident&nbsp;<span class="attribute">type</span>="<span class="attributevalue">class</span>"&gt;</span>model.biblLike<span class="element">&lt;/ident&gt;</span> class </div></li><li class="item"><span class="gi">&lt;val&gt;</span>&nbsp;: valeur d’attribut <div id="index.xml-egXML-d30e98" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely-->Cet attribut porte la valeur <span class="element">&lt;val&gt;</span>unknown<span class="element">&lt;/val&gt;</span></div></li><li class="item"><span class="gi">&lt;tag&gt;</span>&nbsp;: balise XML <div id="index.xml-egXML-d30e107" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;tag&gt;</span>ptr target="http://www.bbc.co.uk"/<span class="element">&lt;/tag&gt;</span></div></li></ul></div><div class="slide"><h2>Structuration d’un ODD</h2><p>Mis à part le <span class="gi">&lt;schemaSpec&gt;</span> qui définit le schéma, on peut organiser le document comme tout autre document TEI, utilisant <span class="gi">&lt;div&gt;</span>, <span class="gi">&lt;list&gt;</span>, etc.</p><p>Au sein de ce document, des éléments supplémentaires sont prévus pour le regroupement des déclarations à l’extérieur du <span class="gi">&lt;schemaSpec&gt;</span>&nbsp;:</p><ul><li class="item"><span class="gi">&lt;specGrp&gt;</span>&nbsp;: un regroupement de déclarations identifiable <div id="index.xml-egXML-d30e136" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;p&gt;</span>Nous n’utilisons que ces éléments du module <span class="element">&lt;ident&gt;</span>linking<span class="element">&lt;/ident&gt;</span>&nbsp;:
<span class="element">&lt;specGrp&nbsp;<span class="attribute">xml:id</span>="<span class="attributevalue">linkingElts</span>"&gt;</span>
<span class="comment">&lt;!-- quelques elementSpec etc --&gt;</span>
&nbsp;<span class="element">&lt;/specGrp&gt;</span>
<span class="element">&lt;/p&gt;</span></div></li><li class="item"><span class="gi">&lt;specGrpRef&gt;</span>&nbsp;: indique où on souhaite intégrer les déclarations précisées par un <span class="gi">&lt;specGrp&gt;</span> <div id="index.xml-egXML-d30e152" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;specGrpRef&nbsp;<span class="attribute">target</span>="<span class="attributevalue">#linkingElts</span>"/&gt;</span></div></li></ul></div><div class="slide"><h2>Un exemple très simple…</h2><p>Ouvrir le fichier <span class="ident">tei_bare.odd</span> avec oXygen</p><p>Retrouvez l’élément <span class="gi">&lt;schemaSpec&gt;</span></p><p>Examiner la structuration du fichier (utiliser la perspective <span class="ident">Outline/Sommaire</span> de oXygen)</p></div><div class="slide"><h2>Un exemple plus ambitieux…</h2><p>Ouvrir le fichier <span class="ident">tei_simplePrint.odd</span> avec oXygen</p><p>Retrouvez l'élément <span class="gi">&lt;schemaSpec&gt;</span></p><p>Examiner la structuration du fichier (utiliser la perspective <span class="ident">Outline/Sommaire</span> de oXygen)</p></div><div class="slide"><h2>Contraintes de données avec Schematron </h2><ul><li class="item">Une spécification d’élément peut proposer des contraintes supplémentaires sur son contenu en utilisant un ou plusieurs éléments <span class="gi">&lt;constraintSpec&gt;</span></li><li class="item">Ces règles sont exprimées (typiquement) en utilisant le langage <a class="link_ref" href="http://schematron.com/">ISO Schematron </a></li></ul><div id="index.xml-egXML-d30e202" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">div</span>"
&nbsp;<span class="attribute">module</span>="<span class="attributevalue">teistructure</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">change</span>"
&nbsp;&nbsp;&nbsp;xmlns:s="http://purl.oclc.org/dsdl/schematron"&gt;</span>
&nbsp;<span class="element">&lt;constraintSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">div</span>"
&nbsp;&nbsp;<span class="attribute">scheme</span>="<span class="attributevalue">isoschematron</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;constraint&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;s:assert&nbsp;<span class="attribute">test</span>="<span class="attributevalue">@type='prose' and .//tei:p</span>"&gt;</span>une division prosaïque doit contenir
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; au moins un paragraphe<span class="element">&lt;/s:assert&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/constraint&gt;</span>
&nbsp;<span class="element">&lt;/constraintSpec&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div></div><div class="slide"><h2>L’élément <span class="gi">&lt;constraintSpec&gt;</span> </h2><p>Il définit une contrainte qui s’applique au sein de l’élément dans lequel il est déclaré</p><ul><li class="item">L’attribut <span class="att">ident</span> est obligatoire&nbsp;: il fournit un identifiant unique</li><li class="item">Il rassemble un ou plusieurs <span class="gi">&lt;constraint&gt;</span></li><li class="item">L’élément <span class="gi">&lt;constraint&gt;</span> contient (typiquement) un <span class="gi">&lt;assert&gt;</span> ou un <span class="gi">&lt;report&gt;</span>, éléments de l’espace de nommage <code>http://purl.oclc.org/dsdl/schematron</code></li></ul></div><div class="slide"><h2>Fonctionnement des règles Schematron </h2><ul><li class="item">Le contenu de l’élément <span class="gi">&lt;assert&gt;</span> est affiché si le test est <span class="hi">false</span></li><li class="item">Le contenu de l’élément <span class="gi">&lt;report&gt;</span> est affiché si le test est <span class="hi">true</span></li><li class="item">Astuce&nbsp;: plusieurs éléments schematron sont disponibles pour enrichir le texte du message affiché, notamment <span class="gi">&lt;name&gt;</span> (context) et <span class="gi">&lt;value-of&gt;</span> (valeur)</li></ul><p class="box">Un schéma RNG intégrant ces règles sera auto-généré si l’on utilise le logiciel oXygen pour traiter son ODD </p></div><div class="slide"><h2>Applications typiques des règles Schematron</h2><ul><li class="item">Contraintes de co-occurrence&nbsp;: <span class="q">‘si l’attribut X a la valeur A, l’élément qui le porte doit contenir un Y’</span></li><li class="item">Contraintes arithmétique contextuelles&nbsp;: <span class="q">‘au sein d’un <span class="gi">&lt;titleStmt&gt;</span>, on ne permet qu’un seul <span class="gi">&lt;title&gt;</span>’</span></li><li class="item">Contraintes textuelles&nbsp;: <span class="q">‘Les caractères ' et “ ne sont pas permis au sein d’un <span class="gi">&lt;p&gt;</span> apparaissant dans le <span class="gi">&lt;body&gt;</span>’</span></li><li class="item">Contraintes contextuelles&nbsp;: <span class="q">‘mots en français (<span class="att">xml:lang</span>='fr') ne sont pas permis au sein d’un élément latin (<span class="att">xml:lang</span>='la')’</span></li><li class="item">Intégrité référentielle&nbsp;: <span class="q">‘un pointer exprimé sous la forme d’une URL et commençant par # doit correspondre à un élément ayant un <span class="att">xml:id</span> identique quelque part dans le document’</span></li></ul></div><div class="slide"><h2>Par exemple…</h2><div id="index.xml-egXML-d30e317" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;constraintSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">isoconstraint</span>"
&nbsp;&nbsp;&nbsp;xmlns:s="http://purl.oclc.org/dsdl/schematron"&gt;</span>
&nbsp;<span class="element">&lt;constraint&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;s:assert&nbsp;<span class="attribute">test</span>="<span class="attributevalue">tei:fileDesc/tei:titleStmt/tei:title[@type='main']</span>"&gt;</span> 
&nbsp;&nbsp;&nbsp;&nbsp; il faut fournir un titre principal <span class="element">&lt;/s:assert&gt;</span>
&nbsp;<span class="element">&lt;/constraint&gt;</span>
<span class="element">&lt;/constraintSpec&gt;</span></div><div id="index.xml-egXML-d30e322" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">figure</span>"
&nbsp;&nbsp;&nbsp;xmlns:s="http://purl.oclc.org/dsdl/schematron"&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span>
&nbsp;<span class="element">&lt;constraintSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">demo-c2</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;constraint&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;s:report&nbsp;<span class="attribute">test</span>="<span class="attributevalue">not(tei:figDesc or tei:head)</span>"&gt;</span> Votre figure
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ne contient ni un figDesc ni un head : aucun attribut
&nbsp;&nbsp;&nbsp;<span class="element">&lt;att&gt;</span>alt<span class="element">&lt;/att&gt;</span> n'est générable<span class="element">&lt;/s:report&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/constraint&gt;</span>
&nbsp;<span class="element">&lt;/constraintSpec&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div></div><div class="slide"><h2>Un schematron plus complexe </h2><div id="index.xml-egXML-d30e335" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;constraintSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">validtarget</span>"&gt;</span>
&nbsp;<span class="element">&lt;constraint&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;s:rule&nbsp;<span class="attribute">context</span>="<span class="attributevalue">tei:*[@target]</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;s:let&nbsp;<span class="attribute">name</span>="<span class="attributevalue">results</span>"
&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">value</span>="<span class="attributevalue">for $t in tokenize(normalize-space(@target),'\s+') return starts-with($t,'#') 
 and not(id(substring($t,2)))</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;s:report&nbsp;<span class="attribute">test</span>="<span class="attributevalue">some $x in $results satisfies $x</span>"&gt;</span> Erreur: Chaque pointer dans
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "<span class="element">&lt;s:value-of&nbsp;<span class="attribute">select</span>="<span class="attributevalue">@target</span>"/&gt;</span>" doit indiquer un ID dans ce même document
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<span class="element">&lt;s:value-of&nbsp;<span class="attribute">select</span>="<span class="attributevalue">$results</span>"/&gt;</span>)<span class="element">&lt;/s:report&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/s:rule&gt;</span>
&nbsp;<span class="element">&lt;/constraint&gt;</span>
<span class="element">&lt;/constraintSpec&gt;</span></div><ul><li class="item"><code>normalize-space(@target)</code>&nbsp;: supprimer les blancs non-signifiants</li><li class="item"><code>tokenize(normalize-space(@target),'\s+')</code>&nbsp;: couper la valeur de l’attribut dans des tokens séparés par des blancs</li><li class="item"><code>starts-with($t,'#')</code>&nbsp;: ne considérer que les pointeurs locaux</li><li class="item"><code>not(id(substring($t,2)))</code>: y-a-t il un attribut <span class="att">xml:id</span> dont la valeur correspond à la valeur indiquée en sélectionnant ce qui suit son 2<sup>ème</sup> caractère</li><li class="item"><code>some $x in $results satisfies $x</code>&nbsp;: expression XPath permettant la validation d’une séquence de valeurs booléennes (vraies/fausses)</li></ul></div><div class="slide"><h2>Combien d'ODD faut-il dans un projet?</h2><div class="figure"><img src="media/eltec-chains.png" alt="" class="graphic"></img></div></div><div class="slide"><h2>Usage de l’attribut <span class="att">source</span></h2><p>L’attribut <span class="att">source</span> sert à spécifier la source des déclarations qu’on souhaite intégrer&nbsp;: par défaut dans la version la plus récente de TEI P5.</p><p>Ou bien… </p><div id="index.xml-egXML-d30e396" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">test2</span>"&nbsp;<span class="attribute">prefix</span>="<span class="attributevalue">tei_</span>"
&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&nbsp;<span class="attribute">source</span>="<span class="attributevalue">tei:1.5.0</span>"&gt;</span>
<span class="comment">&lt;!-- dans la version 1.5.0 --&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><div id="index.xml-egXML-d30e399" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">test3</span>"&nbsp;<span class="attribute">prefix</span>="<span class="attributevalue">tei_</span>"
&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"
&nbsp;<span class="attribute">source</span>="<span class="attributevalue">https://www.tei-c.org/Vault/P5/1.5.0/xml/tei/odd/p5subset.xml</span>"&gt;</span>
<span class="comment">&lt;!-- version plus verbose du même --&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><div id="index.xml-egXML-d30e402" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">test4</span>"
&nbsp;<span class="attribute">source</span>="<span class="attributevalue">myCompiled.odd</span>"&gt;</span>
<span class="comment">&lt;!-- ensemble de déclarations maison --&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p class="box"><span class="att">source</span> peut être utilisé sur <span class="gi">&lt;classRef&gt;</span>, <span class="gi">&lt;elementRef&gt;</span>, <span class="gi">&lt;macroRef&gt;</span>, et <span class="gi">&lt;moduleRef&gt;</span>&nbsp;: il doit pointer vers un ODD compilé</p></div><div class="slide"><h2>Compilation d'un ODD</h2><ul><li class="item">Transformer le fichier <span class="ident">tei_bare.odd</span> en <span class="q">‘ODD compilé’</span> avec oXygen en utilisant la feuille de style <span class="ident">${frameworks}/tei/xml/tei/stylesheet/odds/odd2odd.xsl</span></li><li class="item">Regardez rapidement la sortie en profitant de l’affichage ‘Outline’</li><li class="item">Tous ces <span class="gi">&lt;classSpec&gt;</span> et <span class="gi">&lt;dataSpec&gt;</span> sont fournis par le module <span class="ident">tei</span>&nbsp;: ils sont constitutifs de l’infrastructure TEI.</li><li class="item">Enregistrez cette version sous le nom <span class="ident">tei_bare.compiled.odd</span></li></ul></div><div class="slide"><h2>Usage d’un ODD compilé</h2><p>Nous allons réutiliser TEI_bare, mais nous souhaitons supprimer l’élément <span class="gi">&lt;head&gt;</span></p><div id="index.xml-egXML-d30e462" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">Bare-minus</span>"
&nbsp;<span class="attribute">source</span>="<span class="attributevalue">tei_bare.compiled.odd</span>"&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">tei</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">header</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">core</span>"&nbsp;<span class="attribute">except</span>="<span class="attributevalue">head</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">textstructure</span>"/&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p>Notez qu’on ne peut supprimer ou modifier que les choses qui sont déjà présentes dans l’ODD compilé spécifié par l’attribut <span class="att">source</span>.</p></div><div class="slide"><h2>Chaînage&nbsp;: super-ensemble</h2><p>Nous allons réutiliser TEI_bare, mais nous souhaitons ajouter le module <span class="ident">gaiji</span></p><div id="index.xml-egXML-d30e482" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">Bare-plus</span>"
&nbsp;<span class="attribute">source</span>="<span class="attributevalue">tei_bare.compiled.odd</span>"&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">tei</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">header</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">gaiji</span>"
&nbsp;&nbsp;<span class="attribute">source</span>="<span class="attributevalue">http://www.tei-c.org/release/xml/tei/odd/p5subset.xml</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">textstructure</span>"/&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p>Le <span class="gi">&lt;moduleRef&gt;</span> qui va fournir le module <span class="ident">gaiji</span> utilise son propre attribut <span class="att">source</span> pour spécifier où aller cherche les déclarations de ce module.</p></div><div class="slide"><h2>Rétablir un élément supprimé</h2><p>Nous allons ramener l'élément <span class="gi">&lt;q&gt;</span> qui a été effacé du schéma compilé&nbsp;:</p><div id="index.xml-egXML-d30e507" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">Bare-plus</span>"
&nbsp;<span class="attribute">source</span>="<span class="attributevalue">tei_bare.compiled.odd</span>"&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">tei</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">header</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">q</span>"&nbsp;<span class="attribute">source</span>="<span class="attributevalue">tei:3.0.0</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">textstructure</span>"/&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div></div><div class="slide"><h2>Addition des composants d’une schéma nonTEI</h2><p>On souhaite utiliser l’élément TEI <span class="gi">&lt;formula&gt;</span> et y insérer du contenu exprimé en MathML</p><p>Il nous faut donc&nbsp;:</p><ol><li class="item">inclure les composants du schéma MathML </li><li class="item">modifier le modèle de contenu de l’élément <span class="gi">&lt;formula&gt;</span></li><li class="item">générer un schéma qui résout les conflits de nommage </li></ol><p class="block">ATTENTION&nbsp;: il y a un élément <span class="gi">&lt;list&gt;</span> dans TEI mais également dans MathML&nbsp;!</p></div><div class="slide"><h2>TEI + MathML&nbsp;: le ODD</h2><div id="index.xml-egXML-d30e541" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">tei_math</span>"&nbsp;<span class="attribute">prefix</span>="<span class="attributevalue">tei_</span>"
&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI teiCorpus</span>"&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">url</span>="<span class="attributevalue">http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/mathml2-main.rng</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">header</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">core</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">tei</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">textstructure</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">figures</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">module</span>="<span class="attributevalue">figures</span>"
&nbsp;&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">formula</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">change</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">mathml.math</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/content&gt;</span>
&nbsp;<span class="element">&lt;/elementSpec&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p class="box">L’attribut <span class="att">prefix</span> nous permet de désambiguïser les identifiants ressortant des schémas différentes</p></div><div class="slide"><h2>TEI + MathML&nbsp;: le document</h2><div class="figure"><img src="images/vavilov.png" alt="" class="graphic"></img></div><div id="index.xml-egXML-d30e563" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;p&gt;</span>The relevant inequalities and distributions are <span class="element">&lt;formula&nbsp;<span class="attribute">notation</span>="<span class="attributevalue">MathML</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;m:math&nbsp;<span class="attribute">overflow</span>="<span class="attributevalue">scroll</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;m:mn&gt;</span>0<span class="element">&lt;/m:mn&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;m:mo&gt;</span>.<span class="element">&lt;/m:mo&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;m:mn&gt;</span>0<span class="element">&lt;/m:mn&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;m:mn&gt;</span>1<span class="element">&lt;/m:mn&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;m:mo&gt;</span>&lt;<span class="element">&lt;/m:mo&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;m:mi&gt;</span>κ<span class="element">&lt;/m:mi&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;m:mo&gt;</span>&lt;<span class="element">&lt;/m:mo&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;m:mn&gt;</span>1<span class="element">&lt;/m:mn&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;m:mn&gt;</span>0<span class="element">&lt;/m:mn&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/m:math&gt;</span>
&nbsp;<span class="element">&lt;/formula&gt;</span>, Vavilov distribution, and ... <span class="element">&lt;/p&gt;</span></div></div><div class="slide"><h2>Ajout d’un ‘processing model’(modèle de traitement)</h2><p>Vous pouvez également enrichir votre documentation avec des déclarations plus précises sur la manière dont des éléments particuliers devraient être mis en forme.</p><p>Cela est complémentaire aux fonctionnalités offertes avec <span class="att">rend</span> et <span class="att">style</span> qui décrivent la manière dont la source originale (non-digitale) a été formattée.</p><p>Les nouveaux éléments <span class="gi">&lt;model&gt;</span>, <span class="gi">&lt;modelGrp&gt;</span>, <span class="gi">&lt;param&gt;</span>, <span class="gi">&lt;outputRendition&gt;</span></p><p>Le concept de <span class="ident">behaviour</span> est introduit pour définir des concepts de formattage employés communément, par exemple, <span class="q">‘block’</span>, <span class="q">‘inline’</span>, <span class="q">‘pointer’</span>, etc.</p><div id="index.xml-egXML-d30e632" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">change</span>"&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">quote</span>"&gt;</span>
&nbsp;<span class="element">&lt;model&nbsp;<span class="attribute">predicate</span>="<span class="attributevalue">ancestor::p</span>"
&nbsp;&nbsp;<span class="attribute">behaviour</span>="<span class="attributevalue">inline</span>"/&gt;</span>
&nbsp;<span class="element">&lt;model&nbsp;<span class="attribute">predicate</span>="<span class="attributevalue">not(ancestor::p)</span>"
&nbsp;&nbsp;<span class="attribute">behaviour</span>="<span class="attributevalue">block</span>"/&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div><div class="q">Process a <span class="gi">&lt;quote&gt;</span> inside a <span class="gi">&lt;p&gt;</span> as an inline; elsewhere as a block</div></div><div class="slide"><h2>Behaviours&nbsp;: quelques exemples</h2><div class="table"><table><thead><tr class="label"><th>behaviour</th><th>params</th><th>function</th></tr></thead><tbody><tr><td>alternate</td><td>(default, alternate) </td><td>supporte la présentation de visualisations alternatives, par exemple en rendant le contenu préféré, en le présentant en parallèle, ou en bien en permettant de passer de l’un à l’autre.</td></tr><tr><td>graphic</td><td>(url, width, height, scale, title)</td><td>si url est présent, l’utiliser pour rendre l’élément graphic, sinon rendre une image placeholder.</td></tr><tr><td>omit</td><td></td><td>ne rien faire, ne pas traiter les enfants</td></tr><tr><td>inline</td><td>(content, label</td><td>créer un élément inline</td><td></td><td></td></tr></tbody></table></div></div><div class="slide"><h2>Variétés de ODD</h2><div class="figure"><img src="media/oddflavours.png" alt="" class="graphic" style=" height:40%;"></img></div><ul><li class="item">Chacune de ces formes représente&nbsp;: <ul><li class="item">un ODD</li><li class="item">le schéma généré à partir de cet ODD</li><li class="item">l'ensemble de documents considérés comme valide par ce schéma</li></ul></li><li class="item">un <span class="q">‘TEI subset’</span> fournit un sous-ensemble des composants constituant TEI All</li><li class="item">un <span class="q">‘customised subset’</span> est également un sous-ensemble avec des personnalisations supplémentaires</li><li class="item">un <span class="q">‘extended subset’</span> contient des composants qui ne font pas partie de TEI All</li></ul></div><div class="slide"><h2>Le plus simple</h2><ul><li class="item">Vos modifications génèrent un schéma réduit, plus précis, plus adapté à votre projet et une documentation plus exacte et correcte pour votre communauté d'utilisateurs</li><li class="item">Mais vos documents restent toujours valides par rapport à TEI All et vous respectez toujours le modèle sémantique de la TEI.</li><li class="item">Les extensions éventuelles sont signalées clairement, en utilisant une autre espace de nommage, et sont d’ailleurs expliquées dans votre ODD </li></ul></div><div class="slide"><h2>Qu’est-ce signifie «&nbsp;être conforme à la TEI&nbsp;»&nbsp;?</h2><ul><li class="item"><span class="hi">être honnête</span>&nbsp;: Les éléments XML qui sont déclarés comme appartenant au namespace TEI doivent respecter les définitions TEI de ces éléments</li><li class="item"><span class="hi">être explicite</span>&nbsp;: Pour valider un document TEI, un ODD est fortement conseillé, parce que cela mettra en évidence toutes les modifications effectuées.</li></ul><p>Plus formellement, pour un document TEI conforme&nbsp;:</p><ul><li class="item">il doit être un document XML bien-formé</li><li class="item">si la construction de son schéma ne prend en compte que les éléments appartenant à l’espace de nommage TEI, l'ensemble de documents considéré comme valide par ce schéma devrait être un sous-ensemble de l'ensemble de documents considéré valide par le schéma TEI-ALL.</li><li class="item">Tout autre élément présent doit appartenir à un autre namespace</li></ul><p class="box">L’objet de ces règles est de simplifier le <span class="q">‘blind interchange’</span> des documents&nbsp;; elles ne le garantissent pas.</p></div><div class="slide"><h2>Les limites de la modification</h2><ul><li class="item">Est-ce que l’on peut supprimer n’importe quoi&nbsp;? par ex. <span class="gi">&lt;title&gt;</span>&nbsp;?</li><li class="item">A quoi servent les classes vides ?</li><li class="item">Est-ce qu’on peut ajouter n’importe quoi&nbsp;? quelles limitations&nbsp;?</li></ul><p>L’enjeu c’est de permettre à une autre personne de comprendre votre encodage, non pas forcément de la contraindre à vous suivre aveuglement&nbsp;!</p></div><div class="slide"><h2>Lectures supplementaires...</h2><ul><li class="item">https://lb42.github.io/W/howtoChain.html </li><li class="item">https://lb42.github.io/W/conformance.html </li></ul></div></body></html>