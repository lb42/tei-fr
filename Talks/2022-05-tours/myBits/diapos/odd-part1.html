<!DOCTYPE HTML><html xmlns="http://www.w3.org/1999/xhtml" xmlns:t="http://www.tei-c.org/ns/1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Personnalisation de la TEI : principes &amp; pratiques</title><meta name="generator" content="Generated by TEISLIDY stylesheet"><script src="https://www.w3.org/Talks/Tools/Slidy/slidy.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" media="screen, projection" href="https://www.w3.org/Talks/Tools/Slidy/show.css"><style>
              
              * {    box-sizing: border-box; }
              
              body {
              margin: 0;
              }
              
              /* centre graphics by default */
              img {
              display: block;
              margin-left: auto;
              margin-right: auto;
              }
              
              
              /* Create two unequal columns that floats next to each other */
              .col {
              float: left;
              padding: 10px;
              width: 50%;
              }
              
              
              /* Clear floats after the columns */
              .frame:after {
              content: "";
              display: table;
              clear: both;
              }
              
              div.egXML {
              clear:both;
              margin-top:1em;
              margin-bottom:1em;
              border-top-width:4px;
              border-bottom-width:4px;
              border-left-width:2px;
              border-right-width:2px;
              border-style:solid;
              padding-top:10px;
              padding-right:10px;
              padding-bottom:10px;
              padding-left:10px;
              margin-left: 0;
              color:#000000;
              line-height:1.1em;
              font-family:monospace;
              font-size:24pt;
              white-space:pre;
              background-color:#f7f9f6;
              border-color:#c5d8bb;
              }
              
              .quote {
              clear:both;
              margin-top:0.5em;
              margin-bottom:0.5em;
              border-top-width:2px;
              border-bottom-width:2px;
              border-left-width:2px;
              border-right-width:2px;
              border-style:solid;
              padding-top:10px;
              padding-right:10px;
              padding-bottom:10px;
              padding-left:10px;
              margin-left: 0;
              color:#000000;
              line-height:1.1em;
              font-family:monospace;
              font-size:16pt;   
              background-color:#f7f9f6;
              border-color:#c5d8bb;
              }
              
              div.figure h2 {
              font-size:14pt;
              font-style:italic;
              text-align:right;
              }
           
             </style><link href="https://www.tei-c.org/release/doc/tei-xsl/tei.css" rel="stylesheet"></head><body class="simple" id="TOP"><div class="slide cover"><img src="media/logo.png" width="40%" style="float:left" alt="[Put logo here]" class="cover"><br clear="all"><h1>Personnalisation de la TEI : principes &amp; pratiques</h1><p>Lou Burnard Consulting</p></div><div class="slide"><div class="figure"><img src="../media/teiTiger.jpg" alt="Comment maîtriser le tigre TEI : an ODD&#xA;      story" class="graphic" style=" width:60%;"><h2>Comment maîtriser le tigre TEI : an ODD story</h2></div></div><div class="slide"><h2>Adapter la TEI à ses propres besoins</h2><p>La customisation (Personnalisation) nous permet d'adapter l'architecture très générique et puissante de la TEI aux attentes plus spécifiques et plus restreintes d'un projet particulier. </p><p>Les personnalisations de la TEI s'expriment, bien sûr, en TEI</p><p>Elles utilisent une personnalisation particulière de la TEI qui est nommée ODD</p></div><div class="slide"><h2>À quoi ça sert, un ODD&nbsp;? </h2><p class="box">Nous avons toujours besoin de deux choses complémentaires…</p><p>Un <span class="hi">schéma formel</span> (utilisant un langage informatique tel que DTD, RELAX NG, W3C Schéma, Schematron) pour contrôler l’édition</p><ul><li class="item">déterminer quelles sont les balises disponibles&nbsp;?</li><li class="item">dans quels contextes&nbsp;?</li><li class="item">avec quels attributs&nbsp;?</li><li class="item">avec quelles valeurs&nbsp;?</li><li class="item">en respectant quelles contraintes&nbsp;?</li></ul><p>Une <span class="hi">documentation</span> pour expliciter aux utilisateurs/développeurs nos principes éditoriaux, nos principes de choix de balises, etc.&nbsp;:</p><ul><li class="item">dans plusieurs langues naturelles&nbsp;;</li><li class="item">dans plusieurs formats de fichier (PDF, MsWord, HTML, epub,...).</li></ul></div><div class="slide"><h2>OK, mais pourquoi ODD&nbsp;?</h2><p>Ces attentes pourraient être satisfaites de plusieurs manières.</p><p>Les avantages d’ODD&nbsp;: </p><ul><li class="item">un format XML bien établi,</li><li class="item">faisant partie intégrante du système TEI,</li><li class="item">permettant un traitement fortement intégré avec d’autres systèmes TEI,</li><li class="item">pérennisation à long terme</li><li class="item">standardisation</li></ul></div><div class="slide"><h2>L’idée essentielle de ODD</h2><p class="box"><span class="hi">O</span>ne <span class="hi">D</span>ocument <span class="hi">D</span>oes it all</p><p>Un vocabulaire TEI spécialisé pour la définition&nbsp;:</p><ul><li class="item">des schémas</li><li class="item">des types d’élément XML, indépendants des schémas</li><li class="item">des regroupements de tels éléments, publics ou privés </li><li class="item">des patrons (MLE macros) et des spécifications de donnée (datatype)</li><li class="item">des classes (et sous-classes) d’éléments</li><li class="item">des références de tels objets</li></ul><p>Un <span class="hi">schéma</span> peut combiner&nbsp;:</p><ul><li class="item">des objets identifiables (dans la liste ci-dessus)</li><li class="item">des objets appartenant à d’autres espaces de nom</li></ul><p class="box">et devrait être intégrable dans un système de balisage documentaire classique</p></div><div class="slide"><h2>L’idée essentielle de ODD 2</h2><p class="box">Un ODD peut combiner plusieurs spécifications pour un même objet </p><ul><li class="item">une qui est ‘canonique’, référencée dans les <span class="titlem">Guidelines</span></li><li class="item">une (ou plusieurs) supplémentaire(s), modifiée(s) en partie ou totalement</li><li class="item">ces versions partielles peuvent être explicitées dans l’ODD ou bien héritées d'un autre ODD</li></ul><p>Les règles de combinaison sont explicites, mais un peu complexes… </p></div><div class="slide"><h2>Éléments essentiels d’un ODD</h2><p>Une histoire de <span class="hi">Spec</span> et <span class="hi">Ref</span>...</p><dl><dt><span><span class="gi">&lt;schemaSpec&gt;</span></span></dt><dd>définit et identifie un schéma</dd><dt><span><span class="gi">&lt;elementSpec&gt;</span></span></dt><dd>fournit la définition d’un élément, entièrement ou en partie</dd><dt><span><span class="gi">&lt;elementRef&gt;</span></span></dt><dd>utilise la définition d’un élément existant</dd><dt><span><span class="gi">&lt;classSpec&gt;</span></span></dt><dd>fournit la définition d’une classe</dd><dt><span><span class="gi">&lt;classRef&gt;</span></span></dt><dd>utilise une définition de classe existante</dd><dt><span><span class="gi">&lt;moduleRef&gt;</span></span></dt><dd>fournit un ensemble de spécifications d’éléments et de classes en faisant référence à un ‘module’</dd></dl><p>Un ODD peut combiner plusieurs spécifications pour un même objet </p><p class="box">(Nous reviendrons plus loin sur ce point, et sur les composants documentaires d’un ODD)</p></div><div class="slide"><h2>Un premier exemple simplisme</h2><p class="box">Nous utilisons un élément <span class="gi">&lt;book&gt;</span>, qui contient un mélange d’éléments <span class="gi">&lt;para&gt;</span>s et <span class="gi">&lt;image&gt;</span>s. Nous ne connaissons rien de la TEI, et n’en avons pas envie. De même pour les espaces de noms.</p><div id="index.xml-egXML-d30e170" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ns</span>="<span class="attributevalue"></span>"&nbsp;<span class="attribute">start</span>="<span class="attributevalue">book</span>"
&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">bookSchema</span>"&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">book</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>Élément racine d’un schéma simplisme pour
&nbsp;&nbsp;&nbsp;&nbsp; encoder les livres<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;desc/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;alternate&nbsp;<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">para</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">image</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/alternate&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/content&gt;</span>
&nbsp;<span class="element">&lt;/elementSpec&gt;</span>
<span class="comment">&lt;!-- ... la suite à la prochaine diapo --&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div></div><div class="slide"><h2>Un exemple simplisme (suite)</h2><div id="index.xml-egXML-d30e182" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ns</span>="<span class="attributevalue"></span>"&nbsp;<span class="attribute">start</span>="<span class="attributevalue">stuff</span>"
&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">oddex-1</span>"&gt;</span>
<span class="comment">&lt;!-- ... suite --&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">para</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>un paragraphe de texte <span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;textNode/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/content&gt;</span>
&nbsp;<span class="element">&lt;/elementSpec&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">image</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>un élément vide qui
&nbsp;&nbsp;&nbsp;&nbsp; pointe vers un fichier graphique<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;empty/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/content&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attList&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">href</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>fournit l’URI de l'objet ciblé<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;datatype&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;dataRef&nbsp;<span class="attribute">name</span>="<span class="attributevalue">anyURI</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;/datatype&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attList&gt;</span>
&nbsp;<span class="element">&lt;/elementSpec&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div></div><div class="slide"><h2>So what&nbsp;?</h2><ul><li class="item">On peut maintenant générer un schéma RELAX NG, W3C, ou DTD à l’aide d’une transformation XSLT</li><li class="item">On peut extraire les fragments documentaires, notamment les descriptions des éléments et des attributs</li></ul><div class="p">TEI fournit un élément spécialisé pour cela&nbsp;: <div id="index.xml-egXML-d30e205" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;specList&gt;</span>
&nbsp;<span class="element">&lt;specDesc&nbsp;<span class="attribute">key</span>="<span class="attributevalue">para</span>"/&gt;</span>
&nbsp;<span class="element">&lt;specDesc&nbsp;<span class="attribute">key</span>="<span class="attributevalue">picture</span>"/&gt;</span>
<span class="element">&lt;/specList&gt;</span></div></div><p>Ce balisage générera quelque chose comme&nbsp;</p><ul><li class="item"><span class=""><span class="gi">&lt;para&gt;</span></span> : un paragraphe de texte</li><li class="item"><span class=""><span class="gi">&lt;picture&gt;</span></span> : un élément vide qui pointe sur un fichier graphique</li></ul></div><div class="slide"><h2>Essayons cela avec oXygen… </h2><ul><li class="item">Démarrez oXygen</li><li class="item">Ouvrez le fichier <span class="ident">oddex-1.odd </span></li><li class="item">Sélectionnez les Scénarios de Transformation <span class="ident">TEI ODD to RELAX NG Compact</span> et <span class="ident">TEI ODD to HTML</span> pour générer un schéma et sa documentation à partir de cet ODD</li><li class="item">Lire la documentation</li><li class="item">Validez le fichier test <span class="ident">oddex-1-test.xml</span> avec le schéma <span class="ident">out/oddex-1.rnc</span> que vous venez de générer</li></ul></div><div class="slide"><h2>Notions de classe (1)</h2><p>L’élément <span class="gi">&lt;content&gt;</span> sert a spécifier le contenu possible d'un élément, ou bien directement, ou bien en faisant référence a une (ou plusieurs) classes d’éléments.</p><p>Dans le monde réel, le contenu de nos <span class="gi">&lt;book&gt;</span> ne se limite pas uniquement aux <span class="gi">&lt;para&gt;</span>s et aux <span class="gi">&lt;image&gt;</span>s. Il y a (par ex) des formules, des listes, des titres...</p><p>Nous regroupons tous les éléments qui peuvent apparaître au sein d’un <span class="ident">book</span>&nbsp;et nous appelons ce regroupement une <span class="term">classe</span>. Dans notre cas, nous proposons le nom <span class="ident">bookPart</span>.</p></div><div class="slide"><h2>Notions de classe (2)</h2><div class="p">Nous utilisons l’élément <span class="gi">&lt;classes&gt;</span> dans notre ODD pour indiquer l’association d’un élément avec sa ou ses classe/s&nbsp;: <div id="index.xml-egXML-d30e280" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">para</span>"&gt;</span>
&nbsp;<span class="element">&lt;classes&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">bookPart</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/classes&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div></div><div class="p">Ajoutons par ex. un élément <span class="gi">&lt;formule&gt;</span>: <div id="index.xml-egXML-d30e290" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">formule</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>contient une formule mathématique ou
&nbsp;&nbsp; scientifique affichée en bloc<span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;classes&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">bookPart</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/classes&gt;</span>
&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;textNode/&gt;</span>
&nbsp;<span class="element">&lt;/content&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div></div><p>Et voici la définition de la classe <span class="ident">bookPart</span>.</p><div id="index.xml-egXML-d30e302" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;classSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">bookPart</span>"&nbsp;<span class="attribute">type</span>="<span class="attributevalue">model</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>éléments qui ont la possibilité de figurer dans un <span class="element">&lt;gi&gt;</span>book<span class="element">&lt;/gi&gt;</span>
&nbsp;<span class="element">&lt;/desc&gt;</span>
<span class="element">&lt;/classSpec&gt;</span></div></div><div class="slide"><h2>Usage d’une classe de modélisation</h2><p>Maintenant, au lieu de lister exhaustivement tous les composants possibles d’un <span class="gi">&lt;book&gt;</span>, il suffit de dire que cet élément est composé des membres de la classe <span class="ident">bookPart</span>.</p><div id="index.xml-egXML-d30e316" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">book</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>Élément racine
&nbsp;&nbsp; d’un schéma simplissime pour encoder les livres<span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;classRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">bookPart</span>"&nbsp;<span class="attribute">minOccurs</span>="<span class="attributevalue">1</span>"
&nbsp;&nbsp;&nbsp;<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/content&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div><p>Les attributs <span class="att">minOccurs</span> et <span class="att">maxOccurs</span> limitent le nombre d'occurrences de chaque membre de la classe.</p><p>D'autres attributs (<span class="att">include</span> et <span class="att">exclude</span>) permettent de contrôler plus finement quels membres de la classe seront utilisés</p></div><div class="slide"><h2>Définition d’un modèle de contenu (petit rappel)</h2><p>Un élément XML peut contenir....</p><ul><li class="item">Rien du tout : <span class="gi">&lt;empty&gt;</span></li><li class="item">Que du texte sans balises : <span class="gi">&lt;textNode&gt;</span></li><li class="item">Référence(s) à d'autres éléments : <span class="gi">&lt;elementRef&gt;</span></li><li class="item">Référence(s) à des classes d'éléments : <span class="gi">&lt;classRef&gt;</span></li><li class="item">Alternation(s) des précédents : <span class="gi">&lt;alternate&gt;</span></li><li class="item">Séquence(s) des précédents : <span class="gi">&lt;séquence&gt;</span></li><li class="item">Et tous ces composants sont répétables ... <span class="att">minOccurs</span> et <span class="att">maxOccurs</span></li></ul></div><div class="slide"><h2>Définition d’une classe d’attributs</h2><p>Dans le monde réel, il est très probable que plusieurs éléments différents comportent les même attributs&nbsp;: il sera donc très pratique de les définir en une seule fois</p><div class="p">ODD nous permet de dire que tous les éléments ayant en commun un ensemble d’attributs constituent une <span class="term">classe d'attributs</span> que nous définissons ainsi <div id="index.xml-egXML-d30e382" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;classSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">pointing</span>"&nbsp;<span class="attribute">type</span>="<span class="attributevalue">atts</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>regroupe les éléments comportant l’attribut <span class="element">&lt;att&gt;</span>href<span class="element">&lt;/att&gt;</span>
&nbsp;<span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;attList&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">href</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>fournit l’URI de l’objet ciblé<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;datatype&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;dataRef&nbsp;<span class="attribute">name</span>="<span class="attributevalue">anyURI</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/datatype&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;<span class="element">&lt;/attList&gt;</span>
<span class="element">&lt;/classSpec&gt;</span></div></div></div><div class="slide"><h2>Contrôle des valeurs d’un attribut</h2><p>Les valeurs possibles d’un attribut peuvent être contrôlées de plusieurs manières&nbsp;: </p><ul><li class="item">Par référence à un <span class="term">datatype</span> (type de donnée) externe, par ex <code>anyURI </code> ou <code>ID</code> (ce sont des datatypes standard, définis par le W3C)</li><li class="item">En fournissant notre propre liste des valeurs avec l’élément <span class="gi">&lt;valList&gt;</span> et son attribut <span class="att">type</span> (avec valeurs <code>closed</code>, <code>semi</code> ou <code>open</code>)</li><li class="item">Par référence à un <span class="term">datatype</span> (type de donnée) interne défini par un <span class="gi">&lt;dataSpec&gt;</span> inclus par notre ODD, par ex.</li></ul></div><div class="slide"><h2>Par exemple ...</h2><div id="index.xml-egXML-d30e429" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;classSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">bookAtts</span>"&nbsp;<span class="attribute">type</span>="<span class="attributevalue">atts</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>attributs applicables aux objets
&nbsp;&nbsp; contenus par des <span class="element">&lt;gi&gt;</span>book<span class="element">&lt;/gi&gt;</span>
&nbsp;<span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;attList&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">xml:id</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>fournit un
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; identifiant unique pour le composant<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;datatype&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;dataRef&nbsp;<span class="attribute">name</span>="<span class="attributevalue">ID</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/datatype&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">status</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>indique le statut du composant <span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;valList&nbsp;<span class="attribute">type</span>="<span class="attributevalue">closed</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;valItem&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">red</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;valItem&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">green</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;valItem&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">unknown</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/valList&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">version</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>indique le numéro de version du
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; composant<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;datatype&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;dataRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">teidata.versionNumber</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/datatype&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;<span class="element">&lt;/attList&gt;</span>
<span class="element">&lt;/classSpec&gt;</span></div></div><div class="slide"><h2>Utilisation d'une classe</h2><ul><li class="item">Dans la définition d'un élément il faut spécifier les classes auxquelles il apartient avec l'élément <span class="gi">&lt;classes&gt;</span></li><li class="item">Pareil pour les classes : une classe peut hériter ces membres d'une autre </li></ul><div id="index.xml-egXML-d30e458" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">para</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>une paragraph de text <span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;classes&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">bookPart</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">bookAtts</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/classes&gt;</span>
&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;textNode/&gt;</span>
&nbsp;<span class="element">&lt;/content&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div></div><div class="slide"><h2>Testez votre compréhension</h2><ul><li class="item">Ouvrez le fichier <span class="ident">oddex-2.odd</span> avec oXygen et comparez le avec <span class="ident">oddex-1.odd</span></li><li class="item">Créez une nouvelle version du schéma à partir de cet ODD</li><li class="item">Assurez vous que le fichier test <span class="ident">oddex-1-test.xml</span> reste valide avec cette nouvelle version du schéma</li><li class="item">Contrôlez qu'oXygen vous propose ces nouveaux attributs, et qu’il contraint correctement les valeurs possibles</li></ul></div><div class="slide"><h2>Notion de namespace (rappel)</h2><ul><li class="item">Un <span class="term">namespace</span> (espace de noms/espace de nommage) fournit une manière d’associer et distinguer un groupe d’objets XML.</li><li class="item">Une espace de noms est défini par un URL unique, qui doit être associée avec un préfixe unique en utilisant l'attribut <span class="att">xmlns</span>, disponible sur tout élément XML</li></ul><div id="index.xml-egXML-d30e492" class="pre cdata egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely-->
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;book&nbsp;xmlns:my="http://example.com/myNamespace"&nbsp;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--...&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/book&gt;</div><ul><li class="item">Jusqu’à présent, tout ce qui a été nommé dans notre schéma appartient à un namespace "nul" </li><li class="item">Supposons que nous souhaitions ajouter un nouvel élément <span class="gi">&lt;para&gt;</span> avec un modèle de contenu moins restreint. Ce <span class="gi">&lt;para&gt;</span> contiendra un mélange de texte et d'images, mais nous souhaitons l'appeler un <span class="gi">&lt;para&gt;</span> quand même. Pour le distinguer du <span class="gi">&lt;para&gt;</span> existant, il faut donc l’associer à un autre espace de noms.</li><li class="item">L'attribut <span class="att">ns</span> est disponible sur <span class="gi">&lt;elementSpec&gt;</span> pour préciser son espace de noms. Pour des raisons techniques, il faut aussi spécifier un préfixe unique.</li></ul></div><div class="slide"><h2>Notion de namespace : exemple</h2><div id="index.xml-egXML-d30e521" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">para</span>"
&nbsp;<span class="attribute">ns</span>="<span class="attributevalue">http://myNamespace.org</span>"&nbsp;<span class="attribute">prefix</span>="<span class="attributevalue">extra</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>un
&nbsp;&nbsp; paragraphe contenant du texte et facultativement des images <span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;classes&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">bookPart</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/classes&gt;</span>
&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;alternate&nbsp;<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"
&nbsp;&nbsp;&nbsp;<span class="attribute">minOccurs</span>="<span class="attributevalue">0</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;textNode/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">image</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/alternate&gt;</span>
&nbsp;<span class="element">&lt;/content&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div><p>Notez bien que ce nouvel élément fait partie de la classe <span class="ident">bookPart</span> ; sinon il ne serait pas disponible dans nos documents.</p></div><div class="slide"><h2>Testez votre compréhension...</h2><ul><li class="item">Chargez le fichier <span class="ident">oddex-3.odd</span> et générez un schéma comme d'habitude</li><li class="item">Est-ce que le fichier <span class="ident">oddex-1-test.xml</span> reste valide avec cette version du schéma ?</li><li class="item">Et le fichier <span class="ident">oddex-3-test.xml</span> il est valide avec quelles versions du schema ?</li></ul></div><div class="slide"><h2>Et (enfin) un mot de la TEI</h2><p>Admettons que notre <span class="gi">&lt;para&gt;</span> n’est pas si loin de l’élément TEI <span class="gi">&lt;p&gt;</span>, que notre <span class="gi">&lt;image&gt;</span> ressemble beaucoup à l’élément TEI <span class="gi">&lt;graphic&gt;</span>, et que notre <span class="gi">&lt;book&gt;</span> pourrait être considéré comme un élément TEI <span class="gi">&lt;div&gt;</span>. Comment ré-écrire cet ODD pour profiter des définitions TEI existantes&nbsp;?</p><div id="index.xml-egXML-d30e573" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">start</span>="<span class="attributevalue">div</span>"
&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">TEIbookschema</span>"&nbsp;<span class="attribute">docLang</span>="<span class="attributevalue">fr</span>"&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">div</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">p</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">graphic</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">figure</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">tei</span>"/&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p>L’élément <span class="gi">&lt;moduleRef&gt;</span> nous fournit un ensemble de définitions infra-structurales, notamment pour les classes utilisées partout dans le système TEI. À part cela, nous n’avons besoin que de référencer les éléments TEI souhaités avec un <span class="gi">&lt;elementRef&gt;</span>.</p><p> L'attribut <span class="att">docLang</span> nous permet de préciser la langue de documentation préférée pour notre schéma. L'attribut <span class="att">start</span> précise l'élément racine des documents considérés valides (par défaut TEI ou teiCorpus)</p></div><div class="slide"><h2>Création d’un schéma TEI</h2><ul><li class="item">Chargez le fichier <span class="ident">oddex-tei.odd</span> avec oXygen et comparez le avec les versions précédentes</li><li class="item">Transformez ce fichier en schéma et générez la doc, comme d’habitude. Notez que cette version TEI permet des structures inattendues dans notre version initiale. </li><li class="item">Notez qu’un document TEI <em>doit</em> utiliser l’espace de nommage TEI</li><li class="item">Notez egalement que le schéma généré retient plusieurs classes définies par la TEI mais pas utilisées, de meme que plusieurs exemples d'usage.</li><li class="item">Et enfin, ouvrez le fichier <span class="ident">oddex-tei-test.xml</span> pour controler qu'il est bien valide avec le schéma TEI que vous venez de générer</li></ul></div><div class="slide"><h2>Comment utiliser TEI ODD?</h2><p class="box">ODD est à la fois un langage de spécification, et un langage de personnalisation.</p><p>On se sert du même système pour spécifier ses choix dans le grand bazar de la TEI et pour spécifier le bazar lui-même.</p><p>Un ODD de personnalisation est spécifié par rapport à un autre ODD ; typiquement mais pas forcément celui qui définit la version actuelle des <span class="titlem">Guidelines</span></p><ul><li class="item">en sélectionnant des modules</li><li class="item">en sélectionnant parmi les objets (éléments, classes, datatypes, macros) fournis par ces modules</li><li class="item">en supprimant ou modifiant quelques-uns des attributs fournis par ces objets</li><li class="item">en modifiant ou remplaçant quelques parties de ces spécifications (par ex. les valList)</li><li class="item">éventuellement en ajoutant des spécifications d’objets nouveaux</li></ul></div><div class="slide"><h2>Comment créer un ODD</h2><p>Un ODD est un document TEI comme les autres. Vous pouvez le construire et modifier avec oXygen ou n’importe quel autre éditeur XML </p><p>Bien sûr il existe des outils pour faciliter une construction initiale&nbsp;:</p><dl><dt><span>interface web ergonomique</span></dt><dd><a class="link_ref" href="http://romabeta.tei-c.org">http://romabeta.tei-c.org</a></dd><dt><span>interface web moins ergonomique</span></dt><dd><a class="link_ref" href="http://www.tei-c.org/Roma">http://www.tei-c.org/Roma</a></dd><dt><span>à partir d'un corpus existant</span></dt><dd><a class="link_ref" href="https://teic.github.io/TCW/howtogenerate.html">ODD By Example stylesheet</a></dd></dl><p>Nous allons d'abord partir de zéro, mais nous revenons sur les autres ... </p></div><div class="slide"><h2>Création d’une personnalisation</h2><p>Comme vous le savez déjà, on utilise l’élément <span class="gi">&lt;schemaSpec&gt;</span> pour spécifier un schéma</p><ul><li class="item">L’attribut <span class="att">ident</span> obligatoire fournit un nom pour le schéma</li><li class="item">L’attribut <span class="att">start</span> indique le ou les noms des élément(s) racine(s) du schéma</li><li class="item">L’attribut <span class="att">source</span> indique l’emplacement des déclarations référencées par le schéma (par ex. une version spécifique de TEI P5)</li><li class="item">Les attributs <span class="att">docLang</span> et <span class="att">targetLang</span> permettent la sélection des langues à utiliser pour les descriptions d’éléments et pour les noms d’éléments respectivement, en supposant la présence dans cette source des traductions requises</li></ul><div id="index.xml-egXML-d30e679" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">testschema</span>"
&nbsp;<span class="attribute">docLang</span>="<span class="attributevalue">fr</span>"&gt;</span>
<span class="comment">&lt;!-- declarations --&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div></div><div class="slide"><h2>Astuces</h2><ul><li class="item">Un seul document peut rassembler plusieurs <span class="gi">&lt;schemaSpec&gt;</span> qui partagent (par ex.) un ensemble commun de <span class="gi">&lt;specGrp&gt;</span></li><li class="item">Un ODD peut servir comme base pour un autre (‘oddChaining’): nous revenons sur cette possibilité</li></ul></div><div class="slide"><h2>Usage de l’attribut <span class="att">source</span></h2><p>L’attribut <span class="att">source</span> sert à spécifier la source des déclarations qu’on souhaite intégrer&nbsp;: par défaut dans la version la plus récente de TEI P5.</p><p>Ou bien… </p><div id="index.xml-egXML-d30e708" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">test2</span>"&nbsp;<span class="attribute">prefix</span>="<span class="attributevalue">tei_</span>"
&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&nbsp;<span class="attribute">source</span>="<span class="attributevalue">tei:1.5.0</span>"&gt;</span>
<span class="comment">&lt;!-- dans la version 1.5.0 --&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p>ou, plus explicitement : </p><div id="index.xml-egXML-d30e712" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">test3</span>"&nbsp;<span class="attribute">prefix</span>="<span class="attributevalue">tei_</span>"
&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"
&nbsp;<span class="attribute">source</span>="<span class="attributevalue">http://www.tei-c.org/Vault/P5/1.5.0/xml/tei/odd/p5subset.xml</span>"&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p>ou, utilisant un autre ensemble de déclarations pas forcément TEI: </p><div id="index.xml-egXML-d30e716" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">test4</span>"
&nbsp;<span class="attribute">source</span>="<span class="attributevalue">myCompiled.odd</span>"&gt;</span>
<span class="comment">&lt;!-- ensemble de déclarations maison --&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p class="box"><span class="att">source</span> peut aussi être utilisé sur <span class="gi">&lt;classRef&gt;</span>, <span class="gi">&lt;elementRef&gt;</span>, <span class="gi">&lt;macroRef&gt;</span>, et <span class="gi">&lt;moduleRef&gt;</span>&nbsp;: il doit pointer vers un ODD compilé</p></div><div class="slide"><h2>Composants d’un <span class="gi">&lt;schemaSpec&gt;</span></h2><ul><li class="item"><span class="gi">&lt;moduleRef&gt;</span>&nbsp;: un ensemble prédéfini d’objets (la TEI en fournit 23)</li><li class="item"><span class="gi">&lt;elementSpec&gt;</span>, <span class="gi">&lt;classSpec&gt;</span>, <span class="gi">&lt;dataSpec&gt;</span>, <span class="gi">&lt;macroSpec&gt;</span> &nbsp;: des objets nouveaux</li><li class="item"><span class="gi">&lt;elementRef&gt;</span>, <span class="gi">&lt;classRef&gt;</span>, <span class="gi">&lt;dataRef&gt;</span>, <span class="gi">&lt;macroRef&gt;</span>&nbsp;: des objets déjà existants quelque part</li></ul><p class="block">Une histoire de *Spec et *Ref</p></div><div class="slide"><h2>Sélection par exclusion</h2><div class="p">Vous pouvez spécifier les éléments que vous souhaitez supprimer parmi ceux proposés par un module&nbsp;: <div id="index.xml-egXML-d30e951" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">testschema</span>"&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">core</span>"
&nbsp;&nbsp;<span class="attribute">except</span>="<span class="attributevalue">mentioned said</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">header</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">textstructure</span>"/&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div></div><div class="p">ou également&nbsp;: <div id="index.xml-egXML-d30e959" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">testschema</span>"&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">core</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">header</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">textstructure</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">mentioned</span>"
&nbsp;&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">delete</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">said</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">delete</span>"/&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div></div><p>(L’attribut <span class="att">mode</span> contrôle la résolution de déclarations multiples)</p></div><div class="slide"><h2>Sélection par inclusion</h2><div class="p">Vous pouvez spécifier les éléments que vous souhaitez inclure parmi ceux qui sont proposés par un module&nbsp;: <div id="index.xml-egXML-d30e976" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">testschema</span>"&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">core</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">header</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">textstructure</span>"
&nbsp;&nbsp;<span class="attribute">include</span>="<span class="attributevalue">body div</span>"/&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div></div><div class="p">ou également&nbsp;: <div id="index.xml-egXML-d30e984" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">testschema</span>"&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">core</span>"/&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">header</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">div</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">body</span>"/&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div></div><p class="box">Attention&nbsp;! un module peut définir d’autres choses que des éléments, notamment des classes. Les attributs <span class="att">include</span> et <span class="att">except</span> ne s’appliquent qu’aux éléments</p></div><div class="slide"><h2>Usage des module</h2><ul><li class="item">Vous n’êtes pas obligé de préciser son module si vous souhaitez préciser l’inclusion d'un élément </li><li class="item">Un <span class="gi">&lt;elementRef&gt;</span> suffit – pourvu que l’élément concerné soit déclaré par la source invoquée</li><li class="item">Mais il faut préciser son module si vous souhaitez inclure/utiliser une classe de modèle ou une classe d’attribut. </li><li class="item">La plupart des classes TEI étant définies par le module <span class="ident">tei</span>, ce dernier est à peu près essentiel pour tout ODD TEI.</li></ul></div><div class="slide"><h2>Spécifications multiples</h2><p>Le traitement d’un ODD implique la résolution de spécifications multiples pour un même objet</p><p>Supposons deux <span class="gi">&lt;elementSpec&gt;</span> pour un même élément, la résolution est déterminée par la valeur de l’attribut <span class="att">mode</span></p><ul><li class="item"><code>mode='add'</code> (défaut)&nbsp;: effectuer une nouvelle déclaration</li><li class="item"><code>mode='delete'</code>&nbsp;: aucune déclaration n'est valide, l’élément est supprimé</li><li class="item"><code>mode='replace'</code>&nbsp;: cette déclaration remplace entièrement toute autre déclaration</li><li class="item"><code>mode='change'</code>&nbsp;: les parties de cette déclaration remplacent les parties correspondantes dans une autre déclaration&nbsp;; le reste ne change pas.</li></ul></div><div class="slide"><h2>Par exemple</h2><div id="index.xml-egXML-d30e1038" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">testschema</span>"&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">core</span>"&nbsp;<span class="attribute">include</span>="<span class="attributevalue">p hi</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">key</span>="<span class="attributevalue">p</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">delete</span>"/&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p>L’élément <span class="gi">&lt;p&gt;</span> est supprimé</p><div id="index.xml-egXML-d30e1047" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;schemaSpec&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI</span>"&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">testschema</span>"&gt;</span>
&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">core</span>"&nbsp;<span class="attribute">include</span>="<span class="attributevalue">p hi</span>"/&gt;</span>
&nbsp;<span class="element">&lt;elementSpec&nbsp;<span class="attribute">key</span>="<span class="attributevalue">p</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">change</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;desc&gt;</span>Pour nous, un
&nbsp;&nbsp;<span class="element">&lt;gi&gt;</span>p<span class="element">&lt;/gi&gt;</span> ne peut contenir que du texte<span class="element">&lt;/desc&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;textNode/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/content&gt;</span>
&nbsp;<span class="element">&lt;/elementSpec&gt;</span>
<span class="element">&lt;/schemaSpec&gt;</span></div><p>Le contenu et la description de l’élément <span class="gi">&lt;p&gt;</span> sont changés&nbsp;; ses autres propriétés ne changent pas</p></div><div class="slide"><h2>Traitement d’un ODD</h2><ul><li class="item">Toutes les déclarations (*Spec et *Ref) sont d’abord réunies et canonisées</li><li class="item">Les déclarations multiples sont résolues</li><li class="item">La sortie de cette procédure est ensuite transformée en schéma, et/ou en documentation, en utilisant des feuilles de style XSLT </li></ul><p>La feuille de style <span class="ident">odd2odd</span> nous permet d’effectuer les deux étapes initiales et d’en conserver le résultat&nbsp;: nous appelons cela un <span class="term">ODD compilé </span></p><p>Un tel fichier est réutilisable comme la <span class="att">source</span> d’un autre ODD</p></div><div class="slide"><h2>Regardons un exemple </h2><div id="index.xml-egXML-d30e1081" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;body&gt;</span>
&nbsp;<span class="element">&lt;head&gt;</span>Une personnalisation TEI pour la transcription collaborative<span class="element">&lt;/head&gt;</span>
&nbsp;<span class="element">&lt;p&gt;</span>Cette personnalisation propose un schéma minimal pour la transcription collaborative des
&nbsp;&nbsp; documents d'archive. <span class="element">&lt;/p&gt;</span>
&nbsp;<span class="element">&lt;schemaSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">transMin</span>"
&nbsp;&nbsp;<span class="attribute">start</span>="<span class="attributevalue">TEI text div</span>"&nbsp;<span class="attribute">docLang</span>="<span class="attributevalue">fr</span>"&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">tei</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">header</span>"
&nbsp;&nbsp;&nbsp;<span class="attribute">include</span>="<span class="attributevalue">teiHeader fileDesc titleStmt publicationStmt sourceDesc</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;moduleRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">textstructure</span>"
&nbsp;&nbsp;&nbsp;<span class="attribute">include</span>="<span class="attributevalue">TEI text body div</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">ab</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">pb</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">unclear</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">hi</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">name</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">title</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;classRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">att.global.rendition</span>"
&nbsp;&nbsp;&nbsp;<span class="attribute">except</span>="<span class="attributevalue">rendition style</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;classSpec&nbsp;<span class="attribute">type</span>="<span class="attributevalue">atts</span>"
&nbsp;&nbsp;&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">att.declaring</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">delete</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;classSpec&nbsp;<span class="attribute">type</span>="<span class="attributevalue">atts</span>"
&nbsp;&nbsp;&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">att.edition</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">delete</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;classSpec&nbsp;<span class="attribute">type</span>="<span class="attributevalue">atts</span>"
&nbsp;&nbsp;&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">att.editLike</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">delete</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/schemaSpec&gt;</span>
<span class="element">&lt;/body&gt;</span></div></div><div class="slide"><h2>Exemple (suite)</h2><ul><li class="item">nous ajoutons une spécification pour un élément non-TEI, appartenant à un autre espace de nommage </li><li class="item">cette spécification comporte <ul><li class="item">une description</li><li class="item">une indication des classes TEI auxquelles l'élément appartiendrait</li><li class="item">une indication de son contenu possible</li></ul></li></ul><div id="index.xml-egXML-d30e1113" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">botName</span>"
&nbsp;<span class="attribute">ns</span>="<span class="attributevalue">http://monexcellentprojet.com</span>"&gt;</span>
&nbsp;<span class="element">&lt;desc&nbsp;<span class="attribute">xml:lang</span>="<span class="attributevalue">fr</span>"&gt;</span>nom botanique<span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;desc&nbsp;<span class="attribute">xml:lang</span>="<span class="attributevalue">en</span>"&gt;</span>botanical name<span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;classes&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">model.phrase</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">att.global</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/classes&gt;</span>
&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;macroRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">macro.paraContent</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/content&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div></div><div class="slide"><h2>Exemple (suite)</h2><p>Nous souhaitons modifier légèrement l'élément <span class="gi">&lt;hi&gt;</span></p><ul><li class="item">la spécification de son attribut <span class="att">rend</span> sera remplacée: <ul><li class="item">son type de données devient une énumération</li><li class="item">les valeurs possibles sont explicitées</li></ul></li><li class="item">les autres caractéristiques de l'élément <span class="gi">&lt;hi&gt;</span> restent inchangés</li></ul><div id="index.xml-egXML-d30e1144" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">hi</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">change</span>"&gt;</span>
&nbsp;<span class="element">&lt;attList&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">rend</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">replace</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;datatype&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;dataRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">teidata.enumerated</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/datatype&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;valList&nbsp;<span class="attribute">type</span>="<span class="attributevalue">closed</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;valItem&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">underline</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="element">&lt;valItem&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">superscript</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;/valList&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/attDef&gt;</span>
&nbsp;<span class="element">&lt;/attList&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div></div><div class="slide"><h2>A vous de jouer: un schema superLite</h2><p>Vous etes embauché.e par un projet de corpus linguistique. On vous dit que ‘TEI Lite’ est trop lourd, et ‘TEI simplePrint’ trop complexe. A vous de proposer un schéma TEI <span class="ident">hyperLeger</span> très simple, mais bien adapté aux attentes des clients...</p><ul><li class="item">L’en-tête TEI ne possèdera que les composants essentiels à sa conformité (à savoir&nbsp;: <span class="gi">&lt;teiHeader&gt;</span>, <span class="gi">&lt;fileDesc&gt;</span>, <span class="gi">&lt;titleStmt&gt;</span>, <span class="gi">&lt;publicationStmt&gt;</span> <span class="gi">&lt;sourceDesc&gt;</span> et <span class="gi">&lt;title&gt;</span>)</li><li class="item">L’élément <span class="gi">&lt;text&gt;</span> sera composé d’un seul <span class="gi">&lt;body&gt;</span> contenant des <span class="gi">&lt;div&gt;</span>s contenant un ou plus d’éléments <span class="gi">&lt;ab&gt;</span></li><li class="item">Chaque <span class="gi">&lt;ab&gt;</span> ne permettra qu’une séquence d’éléments <span class="gi">&lt;s&gt;</span></li><li class="item">Chaque <span class="gi">&lt;s&gt;</span> est composé d’éléments <span class="gi">&lt;w&gt;</span> pour les mots et d’éléments <span class="gi">&lt;pc&gt;</span> pour les signes de ponctuation (à part les blancs)</li><li class="item">Comme attributs globaux on va garder notamment <span class="att">xml:id</span>, <span class="att">xml:lang</span>, <span class="att">type</span>, et <span class="att">rend</span></li></ul></div><div class="slide"><h2>Exercice</h2><ul><li class="item">Ouvrez le fichier <span class="ident">superLite-1.odd</span> avec oXygen</li><li class="item">Testez votre compréhension de ce fichier </li><li class="item">Utilisez oXygen pour générer un schéma dans votre langage de schéma préféré et un petit manuel en HTML</li><li class="item">Créez un nouveau document TEI XML qui utilise ce schéma</li><li class="item">Vérifiez les éléments et les attributs disponibles </li></ul><p>Nous allons modifier un peu plus ce schéma pour&nbsp;: </p><ol class="numbered"><li class="item">supprimer plusieurs attributs inutiles</li><li class="item">ajouter un nouvel élément</li><li class="item">simplifier le modèle de contenu de quelques éléments</li></ol></div><div class="slide"><h2>(1) Suppression d’attributs</h2><p>Pour supprimer un attribut il faut savoir d’où il vient&nbsp;: </p><ul><li class="item">soit il est défini avec l’élément qui le comporte (assez inhabituel)</li><li class="item">soit il est hérité d’une classe</li><li class="item">qui peut elle-même hériter des attributs d’une autre classe</li></ul><p>On peut supprimer ou modifier un attribut </p><ul><li class="item">en modifiant juste l’élement qui le comporte (effet local)</li><li class="item">en modifiant la participation à la classe qui le fournit (effet local)</li><li class="item">en modifiant ou supprimant la classe entièrement (effet global)</li></ul></div><div class="slide"><h2>Par exemple</h2><ul><li class="item">supprimez partout les attributs <span class="att">decls</span> (fournis par la classe <span class="ident">att.declaring</span>) et <span class="att">source</span> (fourni par la classe <span class="ident">att.source</span>) <div id="index.xml-egXML-d30e1279" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;classSpec&nbsp;<span class="attribute">type</span>="<span class="attributevalue">atts</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">delete</span>"
&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">att.declaring</span>"/&gt;</span>
<span class="element">&lt;classSpec&nbsp;<span class="attribute">type</span>="<span class="attributevalue">atts</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">delete</span>"
&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">att.source</span>"/&gt;</span></div></li><li class="item">la classe <span class="ident">att.global.rendition</span> nous fournit 3 attributs, et nous n'en souhaitons qu'un (<span class="att">rend</span>): il y a deux manières de supprimer les autres : <div id="index.xml-egXML-d30e1290" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;classRef&nbsp;<span class="attribute">type</span>="<span class="attributevalue">att.global.rendition</span>"
&nbsp;<span class="attribute">except</span>="<span class="attributevalue">style rendition</span>"/&gt;</span>
<span class="comment">&lt;!-- ou comme ceci: --&gt;</span>
<span class="element">&lt;classRef&nbsp;<span class="attribute">type</span>="<span class="attributevalue">att.global.rendition</span>"
&nbsp;<span class="attribute">include</span>="<span class="attributevalue">rend</span>"/&gt;</span></div> (quelle est la différence?)</li><li class="item">supprimez partout les attributs <span class="att">xml:base</span> et <span class="att">xml:space</span> fournis par la classe <span class="ident">att.global</span>, sans perdre les autres <div id="index.xml-egXML-d30e1305" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;classSpec&nbsp;<span class="attribute">type</span>="<span class="attributevalue">atts</span>"&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">att.global</span>"
&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">change</span>"&gt;</span>
&nbsp;<span class="element">&lt;attList&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">xml:base</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">delete</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;attDef&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">xml:space</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">delete</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/attList&gt;</span>
<span class="element">&lt;/classSpec&gt;</span></div></li><li class="item">supprimez partout les attributs fournis par la classe <span class="ident">att.global.responsibility</span> (<span class="att">cert</span> et <span class="att">resp</span>) : cette classe participe à la classe <span class="ident">att.global</span>, donc nous modifions la liste des sur-classes pour <span class="ident">att.global</span>: <div id="index.xml-egXML-d30e1326" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;classes&gt;</span>
&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">att.global.rendition</span>"/&gt;</span>
<span class="element">&lt;/classes&gt;</span></div></li></ul><p>Dans ce dernier cas, l'élément <span class="gi">&lt;classes&gt;</span> est forcément à remplacer entièrement</p><p class="box">Effectuez ces modifications dans le fichier <span class="ident">superLite-1.odd</span> et enregistrez-le sous le nom de <span class="ident">superLite-2.odd</span> si tout se passe bien...</p></div><div class="slide"><h2>(2) Ajout d’un nouvel élément</h2><p>Nous souhaitons ajouter un élément <span class="gi">&lt;mw&gt;</span> pour baliser les <span class="q">‘multiwords’</span> (concept linguistique un peu inexact mais... )</p><ul><li class="item">il faut fournir un <span class="gi">&lt;elementSpec&gt;</span> complet</li><li class="item">le nouvel élément devrait être attribué à son propre espace de noms</li><li class="item">il est avantageux de le faire participer à une des classes TEI existantes pour qu’il apparaisse dans les modèles de contenu pertinents: dans ce cas, nous le considérons comme une variété de segment linguistique, et donc nous proposons de l'affilier à la classe <span class="ident">model.segLike</span></li></ul><div id="index.xml-egXML-d30e1360" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">mw</span>"
&nbsp;<span class="attribute">ns</span>="<span class="attributevalue">http://myNameSpace.org</span>"&gt;</span>
&nbsp;<span class="element">&lt;gloss&gt;</span>multiword<span class="element">&lt;/gloss&gt;</span>
&nbsp;<span class="element">&lt;desc&gt;</span>sequence de mots qui semple
&nbsp;&nbsp; fonctionner comme un mot unique <span class="element">&lt;/desc&gt;</span>
&nbsp;<span class="element">&lt;classes&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">model.segLike</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">att.global</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;memberOf&nbsp;<span class="attribute">key</span>="<span class="attributevalue">att.typed</span>"/&gt;</span>
&nbsp;<span class="element">&lt;/classes&gt;</span>
&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;alternate&nbsp;<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;textNode/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">w</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/alternate&gt;</span>
&nbsp;<span class="element">&lt;/content&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div><p>Modifiez votre fichier <span class="ident">superLite-2.odd</span> en ajoutant la déclaration ci-dessus. Voir l'effet sur le schéma généré et sa documentation.</p></div><div class="slide"><h2>(3) Modification du modèle de contenu</h2><ul><li class="item">La plupart des modèles de contenu s'expriment avec une macro, qui fait référence à des classes</li><li class="item">Regardez par ex. la spécification de l'élément <span class="gi">&lt;s&gt;</span> dans notre petit schéma</li><li class="item">La macro <span class="ident">macro.phraseSeq</span> définit un modèle permettant soit du texte soit des éléments des classes <span class="ident">model.gLike</span>, <span class="ident">model.phrase</span> et <span class="ident">model.global</span></li><li class="item">Suivez la hiérarchie des déclarations et vous constaterez que la plupart de ces classes sont vides </li><li class="item">En effet, les seuls éléments disponibles sont <span class="gi">&lt;title&gt;</span>, <span class="gi">&lt;s&gt;</span>, <span class="gi">&lt;w&gt;</span> et (après la modification précédente) <span class="gi">&lt;mw&gt;</span></li></ul><p>Pour simplifier cela&nbsp;il faut changer le <span class="gi">&lt;content&gt;</span> de <span class="gi">&lt;s&gt;</span>.</p></div><div class="slide"><h2>Changement du modèle de contenu</h2><div class="p">Ajouter dans votre ODD&nbsp;la déclaration suivante: <div id="index.xml-egXML-d30e1421" class="pre egXML_valid"><!--This otherwise redundant comment ensures egXMLs format nicely--><span class="element">&lt;elementSpec&nbsp;<span class="attribute">ident</span>="<span class="attributevalue">s</span>"&nbsp;<span class="attribute">mode</span>="<span class="attributevalue">change</span>"&gt;</span>
&nbsp;<span class="element">&lt;content&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;alternate&nbsp;<span class="attribute">maxOccurs</span>="<span class="attributevalue">unbounded</span>"&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">w</span>"/&gt;</span>
&nbsp;&nbsp;&nbsp;<span class="element">&lt;elementRef&nbsp;<span class="attribute">key</span>="<span class="attributevalue">mw</span>"/&gt;</span>
&nbsp;&nbsp;<span class="element">&lt;/alternate&gt;</span>
&nbsp;<span class="element">&lt;/content&gt;</span>
<span class="element">&lt;/elementSpec&gt;</span></div></div><p class="box">Attention&nbsp;: un changement de modèle de contenu risque de mettre en cause la conformité de votre schema à la TEI</p></div><div class="slide"><h2>Une autre méthode pour la modification des modèles</h2><p class="box">Comment modifier notre ODD pour supprimer <span class="gi">&lt;title&gt;</span>, sauf dans le <span class="gi">&lt;titleStmt&gt;</span> où il est obligatoire ?</p><p>Rappelons qu'un élément <span class="gi">&lt;x&gt;</span> devient disponible dans le contenu d'un autre élément <span class="gi">&lt;y&gt;</span> par deux moyens: </p><ul><li class="item"><span class="gi">&lt;x&gt;</span> est référencé explicitement par le modèle de contenu de <span class="gi">&lt;y&gt;</span></li><li class="item"><span class="gi">&lt;x&gt;</span> est membre d'une classe qui est referencée par le modèle de contenu de <span class="gi">&lt;y&gt;</span></li><li class="item">ou d'une classe qui est référencée par une macro définissant le modèle de contenu de <span class="gi">&lt;y&gt;</span></li></ul><p>Regardez dans la doc ... </p><ul><li class="item">comparez les modèles de contenu de <span class="gi">&lt;titleStmt&gt;</span> et de <span class="gi">&lt;ab&gt;</span></li><li class="item">le contenu de <span class="gi">&lt;ab&gt;</span> est défini par une macro : suivez la hiérarchie des classes pour retrouver celle à laquelle appartient <span class="gi">&lt;title&gt;</span>!</li><li class="item">comment changer l’adhésion de <span class="gi">&lt;title&gt;</span> a cette classe?</li></ul></div><div class="slide"><h2>Ajout des exemples d'usage</h2><ul><li class="item">Les exemples d'usage dans la documentation générée sont, par default, tirés des TEI Guidelines</li><li class="item">Si nous modifions le contenu possible d'un élément, les exemples "canoniques" risquent de devenir invalide En plus, ces exemples ne sont pas forcément bien adaptés à notre projet. Il faut donc les remplacer. Ajoutez donc un élément <span class="gi">&lt;exemplum&gt;</span> après le <span class="gi">&lt;content&gt;</span> dans notre nouvelle spécification de <span class="gi">&lt;s&gt;</span>, qui contient un <span class="gi">&lt;egXML
      xmlns="http://www.tei-c.org/ns/Examples"&gt;</span></li></ul><p class="box">&lt;exemplum&gt; &lt;egXML xmlns="http://www.tei-c.org/ns/Examples"&gt; &lt;s&gt;&lt;w&gt;Quand&lt;/w&gt;&lt;w&gt;partez&lt;/w&gt;&lt;w&gt;-&lt;/w&gt;&lt;w&gt;vous&lt;/w&gt;&lt;w&gt; ?&lt;/w&gt;&lt;/s&gt; &lt;s&gt;&lt;w&gt;Demain&lt;/w&gt;&lt;w&gt;.&lt;/w&gt;&lt;/s&gt; &lt;/egXML&gt; &lt;/exemplum&gt;</p><ul><li class="item">Regénérez votre schéma et sa documentation; contrôlez la doc pour voir si votre exemple y apparait.</li><li class="item">Comme les <span class="gi">&lt;memberOf&gt;</span>, les <span class="gi">&lt;exemplum&gt;</span> ne sont pas identifiables; ajouter un seul sert à remplacer tous les exemples de l'<span class="gi">&lt;elementSpec&gt;</span> concerné.</li></ul></div><div class="slide"><h2>À propos des exemples d’usage</h2><p>Évidemment, si on décrit un schéma XML on va inclure des exemples d’usage en XML. Si la documentation s’exprime également en XML, il faut être astucieux… Il y a trois approches possibles&nbsp;:</p><ul><li class="item">tout cacher avec un "CDATA marked section" (magique, hérité de SGML)</li><li class="item">tout échapper en utilisent des "références" (<code>&amp;amp;lt;</code> etc)</li><li class="item">utiliser un autre espace de noms</li></ul><p>Par exemple: </p><p><code>&lt;![CDATA[&lt;p&gt;un paragraphe&lt;/p&gt; ]]&gt; </code></p><p><code>&amp;lt;p&gt;un paragraphe&amp;lt;/p&gt;</code></p><p><code>&lt;egXML xmlns="http://www.tei-c.org/ns/examples"&gt; &lt;p&gt;un paragraphe&lt;/p&gt; &lt;/egXML&gt;</code></p><p class="box">Seul le dernier vous permet de valider vos exemples&nbsp;: un plus très avantageux</p></div><div class="slide"><h2>Exercice final</h2><p>S’il vous reste du temps, nous vous invitons à .... </p><ul><li class="item">ajouter encore des exemples d'usage partout</li><li class="item">supprimer l'attribut <span class="att">hand</span> sur <span class="gi">&lt;ab&gt;</span> (ou partout)</li><li class="item">prédéfinir une liste fermée de valeurs possible pour l'attribut <span class="att">type</span> de l'élément <span class="gi">&lt;ab&gt;</span></li></ul><p>Si vous disposez déjà d'un corpus de textes TEI pour lequel vous souhaitez créer un ODD, essayez <a class="link_ref" href="howtoGenerate-fr.pdf">ce petit tutoriel</a>.</p><p>Si vous en avez marre d'oXygen, nous vous invitons à expérimenter la nouvelle interface de Roma, <a class="link_ref" href="https://romabeta.tei-c.org">https://romabeta.tei-c.org</a> avec son excellent (mais anglophone) tutoriel <a class="link_ref" href="https://teibyexample.org/tutorials/TBED08v00.htm">https://teibyexample.org/tutorials/TBED08v00.htm</a></p></div></body></html>