<?xml version="1.0" encoding="utf-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" xml:lang="fr">
  <teiHeader>
    <fileDesc>
      <titleStmt>
        <title>TP 3 : Génération d'un ODD et personnalisation</title>
      </titleStmt>
      <publicationStmt>
        <publisher>TEI MEET</publisher>
        <availability>
          <p>Freely available for use and derivative works under a Creative Commons Attribution
            license.</p>
        </availability>
        <date>Novembre 2012</date>
      </publicationStmt>
      <sourceDesc>
        <p>Exercice créé par Lou Burnard et Lauranne Bertrand</p>
      </sourceDesc>
    </fileDesc>
    <revisionDesc>
      <change when="2012-11-07">
        <name>Lauranne Bertrand</name> 
        Création de l'exercice
      </change>
    </revisionDesc>
  </teiHeader>
  <text>
    <body>
      <div>
        <head>Objectifs de l'exercice</head>
        <list>
          <item>Générer un ODD à partir d'un corpus XML-TEI</item>
          <item>Comprendre la structure d'un fichier ODD</item>
          <item>Adapter l'ODD généré en fonction de ses besoins</item>
        </list>
      </div>
      <div>
        <head>Sources et XSLT</head>
        <list>
          <item>Stockez vos sources TEI dans le dossier <ident>sources</ident> de votre dossier <ident>Travaux</ident></item>
          <item>Veillez à ne pas mettre trop de fichiers XML afin de ne pas faire planter oXygen lors de la transformation.
            Mettez les documents les plus représentatifs de votre encodage.</item>
          <item>La feuille <ident>oddbyexample.xsl</ident> est celle que nous utiliserons pour générer l'ODD. Vous la trouverez dans le dossier <ident>Travaux</ident></item>
        </list>
      </div>      
      <div>
        <head>Générer son premier ODD</head>
        <list>
          <item>Ouvrez l'un des fichiers XML de votre dossier source dans oXygen</item>
          <item>Cliquez sur Document > Transformation > Configurer les scénarios de transformation</item>
          <item>Cliquez sur <ident>Nouveau</ident> et choisir dans le menu "XML Transformation with XSLT"</item>
          <item>Nommez votre transformation ("oddbyexample" par ex)</item>
          <item>Laissez XML URL tel quel et cliquez sur le petit dossier à côté du champ XSL URL pour pointer vers <ident>oddbyexample.xsl</ident></item>
          <item>Choisissez le transformateur : <ident>Saxon-PE 9.4.0.4</ident></item>
          <item>Cliquez sur la petite roue jaune pour ajouter les options avanceés: 
            <list>
                <item>Template("-it"): main</item>
              </list>
          </item>
          <item>Paramètres : Dans le menu qui s'affiche il faut vérifier : 
            <list>
                <item>corpus : normalement, "source/./" doit apparaître</item>
                <item>schema : vous pouvez changer le nom de l'ODD généré</item>
            </list>
          </item>
        <item>Sur l'onglet Sortie : 
          <list>
            <item>Selectionnez "Enregistrer sous" : ../monODD.xml (par ex)</item>
            <item>Cochez "Ouvrir dans un éditeur"</item>
            <item>Cochez "Afficher comme :  XML"</item>
          </list>
        </item>
          <item>Lancez la transformation en cliquant sur <ident>Accepter</ident> puis <ident>Appliquer Associés</ident></item>
          <item>Si tout s'est bien passé, le fichier <ident>monODD.xml</ident> devrait être apparu dans le dossier <ident>Travaux</ident> et s'ouvrir dans oXygen.</item>
        </list>
      </div>
      <div>
        <head>Utiliser l'ODD</head>
        <list>
          <item>Tout ça c'est bien, mais qu'en faire à présent ?</item>
          <item>En fait, votre ODD définit les éléments, attributs voire valeurs que vous utilisez.
            Il définit également les modules et les classes qui sont utilisés au sein du
            corpus</item>
          <item>En l'état, ce n'est pas très lisible mais grâce à Roma, on peut générer à partir de son ODD : un schéma RNG, une DTD voire
            une documentation ! (d'où le "One Document Does It All")</item>
          <item>Essayons de générer la documentation correspondant à votre projet : si vous vous souvenez de l'exercice sur Roma, vous savez
          comment faire...</item>
        </list>
      </div>
      <div>
        <head>Générer une documentation dans Roma</head>
        <list>
          <item>Ouvrez votre navigateur et rendez-vous sur <ref target="http://www.tei-c.org/Roma/">http://www.tei-c.org/Roma/</ref></item>
          <item>Cochez <ident>Upload a customization</ident> et naviguez jusqu'à votre odd via <ident>Choisissez un fichier</ident></item>
          <item>Cliquez sur <ident>Start</ident></item>
          <item>Comme précedemment, vous pouvez choisir le nom de votre personnalisation, la langue, le nom de l'auteur etc.
            Remplissez-les si vous le souhaitez et appuyez sur <ident>Save</ident></item>
          <item>Cliquez sur l'onglet <ident>Documentation</ident>, laissez dans le menu déroulant "HTML web page" et cliquez sur
            <ident>Generate</ident></item>
          <item>Enregistrez le fichier ou ouvrez-le directement dans le navigateur</item>
          <item>Vous reconnaissez la documentation générée via Roma : une liste de liens sur chaque élément. Mais cette fois-ci,
            seuls les éléments que vous utilisez au sein de votre corpus sont présents.</item>
          <item>Cliquez sur un élément où vous avez l'habitude d'utiliser <att>type</att> ou <att>rend</att>. La liste des valeurs
            utilisées dans votre projet n'apparaissent pas normalement. Il faut paramétrer cette option dans la feuille 
            <ident>oddbyexample.xsl</ident></item>
        </list>
      </div>
      <div>
        <head>Faire apparaître la liste des valeurs de <att>rend</att> et <att>type</att></head>
        <list>
          <item>Retournez dans oXygen et ouvrez la feuille <ident>oddbyexample.xsl</ident></item>
          <item>Cette fois-ci, répondez "true" pour les paramètres <ident>enumerateRend</ident> et <ident>enumerateType</ident></item>
          <item>Lancez de nouveau votre transformation sur le premier fichier XML de votre dossier.</item>
          <item>Retournez dans Roma, refaites les étapes précédentes pour regénérer votre documentation</item>
          <item>Rendez-vous sur un élément comportant des <att>type</att> ou des <att>rend</att> : voilà votre liste de valeurs !</item>
        </list>
      </div>
      <div>
        <head>Personnaliser votre ODD</head>
        <p>...</p>
      </div>
    </body>
  </text>
</TEI>


