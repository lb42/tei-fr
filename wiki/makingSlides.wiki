#summary how to generate PDF slides from TEI XML
= Introduction =

The XML source files available from this SVN provide talks about the TEI in TEI format. This document explains how to create PDF files from them which are suitable as slides for presentations.  

The XML source files here are used to generate PDF in two stages. First by converting the TEI to LaTeX, second by processing the LaTeX with an appropriate set of macros, provided by the XeLaTeX package. 
 
SFAIK this only works on Linux. It has been tested on Ubuntu 12.04 in September 2012. 

= Prerequisite packages = 

You need the TEI stylesheets, an XSLT version2 processor such as saxon, and the XeLaTex package (included in TeX Live). (Any additional things?)

For a full explanation of the TEI stylesheets, see http://www.tei-c.org/Tools/Stylesheets/.

Install saxon from http://saxon.sourceforge.net, using the download for Java. Make sure you "saxon" file in "/usr/local/bin" has the following line as its content: 

{{{
java -jar /home/christof/saxon9he.jar ${1+"$@"}
}}}

Install Tex Live, as xelatex is included with a full Tex Live (http://www.tug.org/texlive/acquire-netinstall.html) installation, I believe. You can install this using the following command in the terminal:

{{{
sudo apt-get install latex-beamer texlive-xetex texlive 
}}}

= Fonts = 

The TEI stylesheets assume you have the font "Minion Pro" installed on your system (for the roman and sans serif fonts). They are included in the "acroread" package, so you may have them already on your machine. 

If you don't have them, you can either install the "acroread" package or install the relevant additional font packages for latex separatedly. Alternatively, you can specify a font that is available on your machine in the "slides" file (the relevant lines are lines 36 to 43, approximately). You can comment out lines by adding the "%" sign in front of them. 

= Setting up all files in the right places = 

You can place you TEI source files in any given folder on your system. In the same folder, you need to place the "Makefile" and the "slides.xsl" file.

If the XML file you chose to transform, or the XML file you created from it, refers to any graphics, the (usually relative) paths you indicate there need to match the paths where you actually put the image files. (Note that not in all cases are the image files available from the repository.) 

The "slides.xsl" file refers to the TEI stylesheets. The path indicated in the "slides" file on line 9 needs to match the path on your system. You can achieve this either by changing the path in the "slides" file or by moving the stylesheet folder to appropriate path. A good place for the stylesheets is the path "/usr/share/xml/", which means the full path to the relevant stylesheet is "/usr/share/xml/tei/stylesheet/slides/teilatex-slides.xsl". 

= Running the transformations = 

The transformation is a two-step process. To run the transformations, saxon needs to be available. In the terminal, move to the folder where your TEI file is (along with the "slides" and "Makefile" files, of course). 

To transform the TEI file into a TEX file, run the first transformation: 

{{{
saxon -o:xxx.tex xxx.xml slides.xsl
}}}

Here, "xxx" is the name of your file, so "-o:xxx.tex" specifies the output files, "xxx.xml" is the input file, and "slides.xsl" calls up the stylesheet. This process will give you a file called "xxx.tex" written to the same folder. 

To transform the TEX file into a PDF file, run the second transformation: 

{{{
xelatex xxx.tex
}}}

Here, "xxx.tex" is the input file, and Xelatex will produce an output file called "xxx.pdf" and write it into the same folder. 

Your are done! 